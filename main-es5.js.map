{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/article/article.module.ts","webpack:///src/app/article/components/article/article.component.ts","webpack:///src/app/article/components/article/article.component.html","webpack:///src/app/article/services/article.service.ts","webpack:///src/app/article/store/actionTypes.ts","webpack:///src/app/article/store/actions/deleteArticle.action.ts","webpack:///src/app/article/store/actions/getArticle.action.ts","webpack:///src/app/article/store/effects/deleteArticle.effect.ts","webpack:///src/app/article/store/effects/getArticle.effect.ts","webpack:///src/app/article/store/reducers.ts","webpack:///src/app/article/store/selectors.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/components/login/login.component.ts","webpack:///src/app/auth/components/login/login.component.html","webpack:///src/app/auth/components/register/register.component.ts","webpack:///src/app/auth/components/register/register.component.html","webpack:///src/app/auth/services/auth.service.ts","webpack:///src/app/auth/store/actionTypes.ts","webpack:///src/app/auth/store/actions/getCurrentUser.action.ts","webpack:///src/app/auth/store/actions/login.action.ts","webpack:///src/app/auth/store/actions/register.action.ts","webpack:///src/app/auth/store/actions/sync.action.ts","webpack:///src/app/auth/store/actions/updateCurrentUser.action.ts","webpack:///src/app/auth/store/effects/getCurrentUser.effect.ts","webpack:///src/app/auth/store/effects/login.effect.ts","webpack:///src/app/auth/store/effects/logout.effect.ts","webpack:///src/app/auth/store/effects/register.effect.ts","webpack:///src/app/auth/store/effects/updateCurrentUser.effect.ts","webpack:///src/app/auth/store/reducers.ts","webpack:///src/app/auth/store/selectors.ts","webpack:///src/app/createArticle/components/createArticle/createArticle.component.ts","webpack:///src/app/createArticle/components/createArticle/createArticle.component.html","webpack:///src/app/createArticle/createArticle.module.ts","webpack:///src/app/createArticle/services/createArticle.service.ts","webpack:///src/app/createArticle/store/actions/createArticle.action.ts","webpack:///src/app/createArticle/store/actionsTypes.ts","webpack:///src/app/createArticle/store/effects/createArticle.effect.ts","webpack:///src/app/createArticle/store/reducers.ts","webpack:///src/app/createArticle/store/selectors.ts","webpack:///src/app/editArticle/components/editArticle/editArticle.component.ts","webpack:///src/app/editArticle/components/editArticle/editArticle.component.html","webpack:///src/app/editArticle/editArticle.module.ts","webpack:///src/app/editArticle/services/editArticle.service.ts","webpack:///src/app/editArticle/store/actions/getArticle.action.ts","webpack:///src/app/editArticle/store/actions/updateArticle.action.ts","webpack:///src/app/editArticle/store/actionsTypes.ts","webpack:///src/app/editArticle/store/effects/getArticle.effect.ts","webpack:///src/app/editArticle/store/effects/updateArticle.effect.ts","webpack:///src/app/editArticle/store/reducers.ts","webpack:///src/app/editArticle/store/selectors.ts","webpack:///src/app/globalFeed/components/globalFeed/globalFeed.component.ts","webpack:///src/app/globalFeed/components/globalFeed/globalFeed.component.html","webpack:///src/app/globalFeed/globalFeed.module.ts","webpack:///src/app/settings/components/settings/settings.component.ts","webpack:///src/app/settings/components/settings/settings.component.html","webpack:///src/app/settings/settings.module.ts","webpack:///src/app/settings/store/reducers.ts","webpack:///src/app/settings/store/selectors.ts","webpack:///src/app/shared/modules/addToFavorites/addToFavorites.module.ts","webpack:///src/app/shared/modules/addToFavorites/components/addToFavorites/addToFavorites.component.ts","webpack:///src/app/shared/modules/addToFavorites/components/addToFavorites/addToFavorites.component.html","webpack:///src/app/shared/modules/addToFavorites/services/addToFavorites.service.ts","webpack:///src/app/shared/modules/addToFavorites/store/actionTypes.ts","webpack:///src/app/shared/modules/addToFavorites/store/actions/addToFavorites.action.ts","webpack:///src/app/shared/modules/addToFavorites/store/effects/addToFavorites.effect.ts","webpack:///src/app/shared/modules/articleForm/articleForm.module.ts","webpack:///src/app/shared/modules/articleForm/components/articleForm/articleForm.component.ts","webpack:///src/app/shared/modules/articleForm/components/articleForm/articleForm.component.html","webpack:///src/app/shared/modules/backendErrorMessages/backendErrorMessages.module.ts","webpack:///src/app/shared/modules/backendErrorMessages/components/backendErrorMessages/backendErrorMessages.component.ts","webpack:///src/app/shared/modules/backendErrorMessages/components/backendErrorMessages/backendErrorMessages.component.html","webpack:///src/app/shared/modules/banner/banner.module.ts","webpack:///src/app/shared/modules/banner/components/banner/banner.component.ts","webpack:///src/app/shared/modules/banner/components/banner/banner.component.html","webpack:///src/app/shared/modules/errorMessage/components/errorMessage/errorMessage.component.ts","webpack:///src/app/shared/modules/errorMessage/errorMessage.module.ts","webpack:///src/app/shared/modules/feed/components/feed/feed.component.ts","webpack:///src/app/shared/modules/feed/components/feed/feed.component.html","webpack:///src/app/shared/modules/feed/feed.module.ts","webpack:///src/app/shared/modules/feed/services/feed.service.ts","webpack:///src/app/shared/modules/feed/store/actionTypes.ts","webpack:///src/app/shared/modules/feed/store/actions/getFeed.action.ts","webpack:///src/app/shared/modules/feed/store/effects/getFeed.effect.ts","webpack:///src/app/shared/modules/feed/store/reducers.ts","webpack:///src/app/shared/modules/feed/store/selectors.ts","webpack:///src/app/shared/modules/feedToggler/components/feedToggler/feedToggler.component.ts","webpack:///src/app/shared/modules/feedToggler/components/feedToggler/feedToggler.component.html","webpack:///src/app/shared/modules/feedToggler/feedToggler.module.ts","webpack:///src/app/shared/modules/loading/components/loading/loading.component.ts","webpack:///src/app/shared/modules/loading/loading.module.ts","webpack:///src/app/shared/modules/pagination/components/pagination/pagination.component.ts","webpack:///src/app/shared/modules/pagination/components/pagination/pagination.component.html","webpack:///src/app/shared/modules/pagination/pagination.module.ts","webpack:///src/app/shared/modules/popularTags/components/popularTags/popularTags.component.ts","webpack:///src/app/shared/modules/popularTags/components/popularTags/popularTags.component.html","webpack:///src/app/shared/modules/popularTags/popularTags.module.ts","webpack:///src/app/shared/modules/popularTags/services/popularTags.service.ts","webpack:///src/app/shared/modules/popularTags/store/actionTypes.ts","webpack:///src/app/shared/modules/popularTags/store/actions/getPopularTags.action.ts","webpack:///src/app/shared/modules/popularTags/store/effects/getPopularTags.effect.ts","webpack:///src/app/shared/modules/popularTags/store/reducers.ts","webpack:///src/app/shared/modules/popularTags/store/selectors.ts","webpack:///src/app/shared/modules/tagList/components/tagList/tagList.component.ts","webpack:///src/app/shared/modules/tagList/components/tagList/tagList.component.html","webpack:///src/app/shared/modules/tagList/tagList.module.ts","webpack:///src/app/shared/modules/topBar/components/topBar/topBar.component.ts","webpack:///src/app/shared/modules/topBar/components/topBar/topBar.component.html","webpack:///src/app/shared/modules/topBar/topBar.module.ts","webpack:///src/app/shared/services/article.service.ts","webpack:///src/app/shared/services/authinterceptor.service.ts","webpack:///src/app/shared/services/persistance.service.ts","webpack:///src/app/shared/services/utils.service.ts","webpack:///src/app/tagFeed/components/tagFeed/tagFeed.component.ts","webpack:///src/app/tagFeed/components/tagFeed/tagFeed.component.html","webpack:///src/app/tagFeed/tagFeed.module.ts","webpack:///src/app/userProfile/components/userProfile/userProfile.component.ts","webpack:///src/app/userProfile/components/userProfile/userProfile.component.html","webpack:///src/app/userProfile/services/userProfile.service.ts","webpack:///src/app/userProfile/store/actionTypes.ts","webpack:///src/app/userProfile/store/actions/getUserProfile.action.ts","webpack:///src/app/userProfile/store/effects/getUserProfile.effect.ts","webpack:///src/app/userProfile/store/reducers.ts","webpack:///src/app/userProfile/store/selectors.ts","webpack:///src/app/userProfile/userProfile.module.ts","webpack:///src/app/yourFeed/components/yourFeed/yourFeed.component.ts","webpack:///src/app/yourFeed/components/yourFeed/yourFeed.component.html","webpack:///src/app/yourFeed/yourFeed.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","AppRoutingModule","forRoot","imports","AppComponent","store","dispatch","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","router","instrument","maxAge","logOnly","production","declarations","providers","bootstrap","path","component","ArticleModule","forChild","forFeature","ArticleComponent","route","initializeValues","initializeListeners","fetchData","articleSubscription","unsubscribe","slug","snapshot","paramMap","get","isLoading$","pipe","error$","isAuthor$","article","currentUser","username","author","subscribe","ArticleService","http","url","apiUrl","ActionTypes","deleteArticleAction","DELETE_ARTICLE","deleteArticleSuccessAction","DELETE_ARTICLE_SUCCESS","deleteArticleFailureAction","DELETE_ARTICLE_FAILURE","getArticleAction","GET_ARTICLE","getArticleSuccessAction","GET_ARTICLE_SUCCESS","getArticleFailureAction","GET_ARTICLE_FAILURE","DeleteArticleEffect","actions$","articleService","deleteArticle$","deleteArticle","redirectAfterDelete$","navigate","GetArticleEffect","sharedArticleService","getArticle$","getArticle","initialState","data","isLoading","error","articleReducer","state","action","reducers","articleFeatureSelector","isLoadingSelector","articleState","errorSelector","articleSelector","AuthModule","LoginComponent","fb","initializeForm","isSubmitting$","backendErrors$","form","group","email","required","password","request","user","value","onSubmit","RegisterComponent","console","log","valid","AuthService","response","post","getUser","put","getCurrentUserAction","GET_CURRENT_USER","getCurrentUserSuccessAction","GET_CURRENT_USER_SUCCESS","getCurrentUserFailureAction","GET_CURRENT_USER_FAILURE","loginAction","LOGIN","loginSuccessAction","LOGIN_SUCCESS","loginFailureAction","LOGIN_FAILURE","registerAction","REGISTER","registerSuccessAction","REGISTER_SUCCESS","registerFailureAction","REGISTER_FAILURE","logoutAction","LOGOUT","updateCurrentUserAction","UPDATE_CURRENT_USER","updateCurrentUserSuccessAction","UPDATE_CURRENT_USER_SUCCESS","updateCurrentUserFailureAction","UPDATE_CURRENT_USER_FAILURE","GetCurrentUserEffect","authService","persistanceService","getCurrentUser$","token","getCurrentUser","LoginEffect","login$","login","set","errorResponse","errors","redirectAfterSubmit$","navigateByUrl","LogoutEffect","logout$","RegisterEffect","register$","register","UpdateCurrentUserEffect","updateCurrentUser$","currentUserInput","updateCurrentUser","isSubmitting","validationErrors","isLoggedIn","authReducer","authFeatureSelector","isSubmittingSelector","authState","validationErrorsSelector","isLoggedInSelector","isAnonymousSelector","currentUserSelector","CreateArticleComponent","initialValues","title","description","body","tagList","articleInput","CreateArticleModule","CreateArticleService","fullUrl","createArticleAction","CREATE_ARTICLE","createArticleSuccessAction","CREATE_ARTICLE_SUCCESS","createArticleFailureAction","CREATE_ARTICLE_FAILURE","CreateArticleEffect","createArticleService","createArticle$","createArticle","redirectAfterCreate$","createArticleReducer","createArticleFeatureSelector","createArticleState","EditArticleComponent","initialValues$","Boolean","EditArticleModule","EditArticleService","updateArticleAction","UPDATE_ARTICLE","updateArticleSuccessAction","UPDATE_ARTICLE_SUCCESS","updateArticleFailureAction","UPDATE_ARTICLE_FAILURE","UpdateArticleEffect","editArticleService","updateArticle$","updateArticle","redirectAfterUpdate$","editArticleReducer","editArticleFeatureSelector","editArticleState","GlobalFeedComponent","GlobalFeedModule","SettingsComponent","currentUserSubscription","image","bio","SettingsModule","settingsReducers","settingsFeatureSelector","settingsState","AddToFavoriteModule","AddToFavoriteComponent","favoritesCount","favoritesCountProps","isFavorited","isFavoritedProps","articleSlugProps","handleLike","AddToFavoritesService","getUrl","addToFavoritesAction","ADD_TO_FAVORITES","addToFavoritesSuccessAction","ADD_TO_FAVORITES_SUCCESS","addToFavoritesFailureAction","ADD_TO_FAVORITES_FAILURE","AddToFavoritesEffect","addToFavoritesService","addToFavorites$","article$","removeFromFavorites","addToFavorites","ArticleFormModule","ArticleFormComponent","articleSubmitEvent","initialValuesProps","join","emit","BackendErrorMessagesModule","BackendErrorMessagesComponent","errorMessages","Object","backendErrorsProps","map","name","messages","BannerModule","BannerComponent","ErrorMessageComponent","messageProps","template","ErrorMessageModule","FeedComponent","limit","apiUrlProps","changes","isApiUrlChanged","firstChange","currentValue","previousValue","fetchFeed","queryParamsSubscription","queryParams","params","currentPage","Number","page","feed$","baseUrl","split","offset","parsedUrl","stringifiedParams","query","apiUrlWithParams","FeedModule","FeedService","getFeedAction","GET_FEED","getFeedSuccessAction","GET_FEED_SUCCESS","getFeedFailureAction","GET_FEED_FAILURE","GetFeedEffect","feedService","getFeed$","getFeed","feed","feedReducer","feedFeatureSelector","feedState","feedSelector","FeedTogglerComponent","isLoggedIn$","FeedTogglerModule","LoadingComponent","LoadingModule","PaginationComponent","utilsService","pagesCount","Math","ceil","totalProps","limitProps","pages","range","PaginationModule","PopularTagsComponent","popularTags$","PopularTagsModule","PopularTagsService","tags","getPopularTagsAction","GET_POPULAR_TAGS","getPopularTagsSuccessAction","GET_POPULAR_TAGS_SUCCESS","getPopularTagsFailure","GET_POPULAR_TAGS_FAILURE","GetPopularTagsEffect","popularTagsService","getPopularTags$","getPopularTags","popularTags","popularTagsReducer","popularTagsFeatureSelector","popularTagsSelector","popularTagsState","TagListComponent","TagListModule","TopBarComponent","isAnonymous$","currentUser$","TopBarModule","AuthInterceptor","next","clone","setHeaders","Authorization","handle","PersistanceService","key","localStorage","setItem","JSON","stringify","parse","getItem","UtilsService","start","end","Array","el","TagFeedComponent","tagName","TagFeedModule","UserProfileComponent","isCurrentUserProfile$","userProfile","isFavorites","includes","userProfileSubscription","fetchUserProfile","UserProfileService","profile","getUserProfileAction","GET_USER_PROFILE","getUserProfileSuccessAction","GET_USER_PROFILE_SUCCESS","getUserProfileFailureAction","GET_USER_PROFILE_FAILURE","GetUserProfileEffect","userProfileService","getUserProfile$","getUserProfile","userProfileReducer","userProfileFeatureSelector","userProfileSelector","userProfileState","UserProfileModule","YourFeedComponent","YourFeedModule","environment","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core'\nimport {Routes, RouterModule} from '@angular/router'\n\nconst routes: Routes = []\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import {Component, OnInit} from '@angular/core'\nimport {Store} from '@ngrx/store'\n\nimport {getCurrentUserAction} from 'src/app/auth/store/actions/getCurrentUser.action'\n\n@Component({\n  selector: ' app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.store.dispatch(getCurrentUserAction())\n  }\n}\n","<mc-topbar></mc-topbar>\n<router-outlet></router-outlet>\n","import {BrowserModule} from '@angular/platform-browser'\nimport {NgModule} from '@angular/core'\nimport {StoreModule} from '@ngrx/store'\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools'\nimport {HttpClientModule, HTTP_INTERCEPTORS} from '@angular/common/http'\nimport {routerReducer, StoreRouterConnectingModule} from '@ngrx/router-store'\n\nimport {AppRoutingModule} from './app-routing.module'\nimport {AppComponent} from './app.component'\nimport {AuthModule} from 'src/app/auth/auth.module'\nimport {environment} from 'src/environments/environment'\nimport {EffectsModule} from '@ngrx/effects'\nimport {TopBarModule} from 'src/app/shared/modules/topBar/topBar.module'\nimport {PersistanceService} from './shared/services/persistance.service'\nimport {AuthInterceptor} from './shared/services/authinterceptor.service'\nimport {GlobalFeedModule} from './globalFeed/globalFeed.module'\nimport {YourFeedModule} from './yourFeed/yourFeed.module'\nimport {TagFeedModule} from 'src/app/tagFeed/tagFeed.module'\nimport {ArticleModule} from './article/article.module'\nimport {CreateArticleModule} from './createArticle/createArticle.module'\nimport {EditArticleModule} from 'src/app/editArticle/editArticle.module'\nimport {SettingsModule} from './settings/settings.module'\nimport {UserProfileModule} from './userProfile/userProfile.module'\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    AuthModule,\n    StoreModule.forRoot({router: routerReducer}),\n    StoreRouterConnectingModule.forRoot(),\n    StoreDevtoolsModule.instrument({\n      maxAge: 25,\n      logOnly: environment.production\n    }),\n    EffectsModule.forRoot([]),\n    TopBarModule,\n    GlobalFeedModule,\n    YourFeedModule,\n    TagFeedModule,\n    CreateArticleModule,\n    ArticleModule,\n    EditArticleModule,\n    SettingsModule,\n    UserProfileModule\n  ],\n  providers: [\n    PersistanceService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptor,\n      multi: true\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\nimport {StoreModule} from '@ngrx/store'\nimport {EffectsModule} from '@ngrx/effects'\n\nimport {ArticleComponent} from './components/article/article.component'\nimport {ArticleService as SharedArticleService} from '../shared/services/article.service'\nimport {reducers} from 'src/app/article/store/reducers'\nimport {GetArticleEffect} from 'src/app/article/store/effects/getArticle.effect'\nimport {LoadingModule} from 'src/app/shared/modules/loading/loading.module'\nimport {ErrorMessageModule} from 'src/app/shared/modules/errorMessage/errorMessage.module'\nimport {TagListModule} from 'src/app/shared/modules/tagList/tagList.module'\nimport {DeleteArticleEffect} from './store/effects/deleteArticle.effect'\nimport {ArticleService} from 'src/app/article/services/article.service'\n\nconst routes = [\n  {\n    path: 'articles/:slug',\n    component: ArticleComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    StoreModule.forFeature('article', reducers),\n    EffectsModule.forFeature([GetArticleEffect, DeleteArticleEffect]),\n    LoadingModule,\n    ErrorMessageModule,\n    TagListModule\n  ],\n  declarations: [ArticleComponent],\n  providers: [ArticleService, SharedArticleService]\n})\nexport class ArticleModule {}\n","import {Component, OnInit, OnDestroy} from '@angular/core'\nimport {Store, select} from '@ngrx/store'\nimport {getArticleAction} from 'src/app/article/store/actions/getArticle.action'\nimport {ActivatedRoute} from '@angular/router'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {Subscription, pipe, Observable, combineLatest} from 'rxjs'\nimport {\n  articleSelector,\n  isLoadingSelector,\n  errorSelector\n} from 'src/app/article/store/selectors'\nimport {currentUserSelector} from 'src/app/auth/store/selectors'\nimport {map} from 'rxjs/operators'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {deleteArticleAction} from '../../store/actions/deleteArticle.action'\n\n@Component({\n  selector: 'mc-article',\n  templateUrl: './article.component.html',\n  styleUrls: ['./article.component.scss']\n})\nexport class ArticleComponent implements OnInit, OnDestroy {\n  slug: string\n  article: ArticleInterface\n  articleSubscription: Subscription\n  isLoading$: Observable<boolean>\n  error$: Observable<string | null>\n  isAuthor$: Observable<boolean>\n\n  constructor(private store: Store, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.initializeValues()\n    this.initializeListeners()\n    this.fetchData()\n  }\n\n  ngOnDestroy(): void {\n    this.articleSubscription.unsubscribe()\n  }\n\n  initializeValues(): void {\n    this.slug = this.route.snapshot.paramMap.get('slug')\n    this.isLoading$ = this.store.pipe(select(isLoadingSelector))\n    this.error$ = this.store.pipe(select(errorSelector))\n    this.isAuthor$ = combineLatest(\n      this.store.pipe(select(articleSelector)),\n      this.store.pipe(select(currentUserSelector))\n    ).pipe(\n      map(\n        ([article, currentUser]: [\n          ArticleInterface | null,\n          CurrentUserInterface | null\n        ]) => {\n          if (!article || !currentUser) {\n            return false\n          }\n          return currentUser.username === article.author.username\n        }\n      )\n    )\n  }\n\n  initializeListeners(): void {\n    this.articleSubscription = this.store\n      .pipe(select(articleSelector))\n      .subscribe((article: ArticleInterface | null) => {\n        this.article = article\n      })\n  }\n\n  fetchData(): void {\n    this.store.dispatch(getArticleAction({slug: this.slug}))\n  }\n\n  deleteArticle(): void {\n    this.store.dispatch(deleteArticleAction({slug: this.slug}))\n  }\n}\n","<div class=\"article-page\">\n  <div class=\"banner\">\n    <div class=\"container\" *ngIf=\"article\">\n      <h1>{{ article.title }}</h1>\n      <div class=\"article-meta\">\n        <a [routerLink]=\"['/profiles', article.author.username]\">\n          <img [src]=\"article.author.image\" />\n        </a>\n        <div class=\"info\">\n          <a [routerLink]=\"['/profiles', article.author.username]\">\n            {{ article.author.username }}\n          </a>\n          <span class=\"date\">\n            {{ article.createdAt }}\n          </span>\n        </div>\n        <span *ngIf=\"isAuthor$ | async\">\n          <a\n            [routerLink]=\"['/articles', article.slug, 'edit']\"\n            class=\"btn btn-outline-secondary btn-sm\"\n          >\n            <i class=\"ion-edit\"></i>\n            Изменить статью\n          </a>\n          <button\n            class=\"btn btn-outline-danger btn-sm\"\n            (click)=\"deleteArticle()\"\n          >\n            Удалить статью\n          </button>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div class=\"container page\">\n    <mc-loading *ngIf=\"isLoading$ | async\"></mc-loading>\n    <mc-error-message *ngIf=\"error$ | async\"></mc-error-message>\n\n    <div class=\"row article-content\" *ngIf=\"article\">\n      <div class=\"col-xs-12\">\n        <div>\n          <p>{{ article.body }}</p>\n        </div>\n        <mc-tag-list [tags]=\"article.tagList\"></mc-tag-list>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {environment} from 'src/environments/environment'\n\n@Injectable()\nexport class ArticleService {\n  constructor(private http: HttpClient) {}\n\n  deleteArticle(slug: string): Observable<{}> {\n    const url = `${environment.apiUrl}/articles/${slug}`\n\n    return this.http.delete<{}>(url)\n  }\n}\n","export enum ActionTypes {\n  GET_ARTICLE = '[Article] Get article',\n  GET_ARTICLE_SUCCESS = '[Article] Get article success',\n  GET_ARTICLE_FAILURE = '[Article] Get article failure',\n\n  DELETE_ARTICLE = '[Article] Delete article',\n  DELETE_ARTICLE_SUCCESS = '[Article] Delete article success',\n  DELETE_ARTICLE_FAILURE = '[Article] Delete article failure'\n}\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from '../actionTypes'\n\nexport const deleteArticleAction = createAction(\n  ActionTypes.DELETE_ARTICLE,\n  props<{slug: string}>()\n)\n\nexport const deleteArticleSuccessAction = createAction(\n  ActionTypes.DELETE_ARTICLE_SUCCESS\n)\n\nexport const deleteArticleFailureAction = createAction(\n  ActionTypes.DELETE_ARTICLE_FAILURE\n)\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from '../actionTypes'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\nexport const getArticleAction = createAction(\n  ActionTypes.GET_ARTICLE,\n  props<{slug: string}>()\n)\n\nexport const getArticleSuccessAction = createAction(\n  ActionTypes.GET_ARTICLE_SUCCESS,\n  props<{article: ArticleInterface}>()\n)\n\nexport const getArticleFailureAction = createAction(\n  ActionTypes.GET_ARTICLE_FAILURE\n)\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {ArticleService} from 'src/app/article/services/article.service'\nimport {\n  deleteArticleAction,\n  deleteArticleSuccessAction,\n  deleteArticleFailureAction\n} from 'src/app/article/store/actions/deleteArticle.action'\nimport {Router} from '@angular/router'\n\n@Injectable()\nexport class DeleteArticleEffect {\n  deleteArticle$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(deleteArticleAction),\n      switchMap(({slug}) => {\n        return this.articleService.deleteArticle(slug).pipe(\n          map(() => {\n            return deleteArticleSuccessAction()\n          }),\n\n          catchError(() => {\n            return of(deleteArticleFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  redirectAfterDelete$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(deleteArticleSuccessAction),\n        tap(() => {\n          this.router.navigate(['/'])\n        })\n      ),\n    {dispatch: false}\n  )\n\n  constructor(\n    private actions$: Actions,\n    private articleService: ArticleService,\n    private router: Router\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {ArticleService as SharedArticleService} from 'src/app/shared/services/article.service'\nimport {\n  getArticleAction,\n  getArticleSuccessAction,\n  getArticleFailureAction\n} from '../actions/getArticle.action'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\n@Injectable()\nexport class GetArticleEffect {\n  getArticle$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getArticleAction),\n      switchMap(({slug}) => {\n        return this.sharedArticleService.getArticle(slug).pipe(\n          map((article: ArticleInterface) => {\n            return getArticleSuccessAction({article})\n          }),\n\n          catchError(() => {\n            return of(getArticleFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private sharedArticleService: SharedArticleService\n  ) {}\n}\n","import {createReducer, on, Action} from '@ngrx/store'\nimport {routerNavigationAction} from '@ngrx/router-store'\n\nimport {ArticleStateInterface} from 'src/app/article/types/articleState.interface'\nimport {\n  getArticleAction,\n  getArticleSuccessAction,\n  getArticleFailureAction\n} from 'src/app/article/store/actions/getArticle.action'\n\nconst initialState: ArticleStateInterface = {\n  data: null,\n  isLoading: false,\n  error: null\n}\n\nconst articleReducer = createReducer(\n  initialState,\n  on(\n    getArticleAction,\n    (state): ArticleStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getArticleSuccessAction,\n    (state, action): ArticleStateInterface => ({\n      ...state,\n      isLoading: false,\n      data: action.article\n    })\n  ),\n  on(\n    getArticleFailureAction,\n    (state): ArticleStateInterface => ({\n      ...state,\n      isLoading: false\n    })\n  ),\n  on(routerNavigationAction, (): ArticleStateInterface => initialState)\n)\n\nexport function reducers(state: ArticleStateInterface, action: Action) {\n  return articleReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\n\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {ArticleStateInterface} from '../types/articleState.interface'\n\nexport const articleFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  ArticleStateInterface\n>('article')\n\nexport const isLoadingSelector = createSelector(\n  articleFeatureSelector,\n  (articleState: ArticleStateInterface) => articleState.isLoading\n)\n\nexport const errorSelector = createSelector(\n  articleFeatureSelector,\n  (articleState: ArticleStateInterface) => articleState.error\n)\n\nexport const articleSelector = createSelector(\n  articleFeatureSelector,\n  (articleState: ArticleStateInterface) => articleState.data\n)\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {StoreModule} from '@ngrx/store'\nimport {EffectsModule} from '@ngrx/effects'\n\nimport {RegisterComponent} from 'src/app/auth/components/register/register.component'\nimport {RouterModule} from '@angular/router'\nimport {ReactiveFormsModule} from '@angular/forms'\nimport {reducers} from 'src/app/auth/store/reducers'\nimport {AuthService} from 'src/app/auth/services/auth.service'\nimport {RegisterEffect} from 'src/app/auth/store/effects/register.effect'\nimport {BackendErrorMessagesModule} from 'src/app/shared/modules/backendErrorMessages/backendErrorMessages.module'\nimport {PersistanceService} from 'src/app/shared/services/persistance.service'\nimport {LoginEffect} from 'src/app/auth/store/effects/login.effect'\nimport {LoginComponent} from 'src/app/auth/components/login/login.component'\nimport {GetCurrentUserEffect} from 'src/app/auth/store/effects/getCurrentUser.effect'\nimport {UpdateCurrentUserEffect} from './store/effects/updateCurrentUser.effect'\nimport {LogoutEffect} from './store/effects/logout.effect'\n\nconst routes = [\n  {\n    path: 'register',\n    component: RegisterComponent\n  },\n  {\n    path: 'login',\n    component: LoginComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    StoreModule.forFeature('auth', reducers),\n    EffectsModule.forFeature([\n      RegisterEffect,\n      LoginEffect,\n      GetCurrentUserEffect,\n      UpdateCurrentUserEffect,\n      LogoutEffect\n    ]),\n    BackendErrorMessagesModule\n  ],\n  declarations: [RegisterComponent, LoginComponent],\n  providers: [AuthService, PersistanceService]\n})\nexport class AuthModule {}\n","import {Component, OnInit} from '@angular/core'\nimport {FormGroup, FormBuilder, Validators} from '@angular/forms'\nimport {Store, select} from '@ngrx/store'\nimport {Observable} from 'rxjs'\n\nimport {\n  isSubmittingSelector,\n  validationErrorsSelector\n} from 'src/app/auth/store/selectors'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {LoginRequestInterface} from 'src/app/auth/types/loginRequest.interface'\nimport {loginAction} from 'src/app/auth/store/actions/login.action'\n\n@Component({\n  selector: 'mc-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  form: FormGroup\n  isSubmitting$: Observable<boolean>\n  backendErrors$: Observable<BackendErrorsInterface | null>\n\n  constructor(private fb: FormBuilder, private store: Store) {}\n\n  ngOnInit(): void {\n    this.initializeForm()\n    this.initializeValues()\n  }\n\n  initializeValues(): void {\n    this.isSubmitting$ = this.store.pipe(select(isSubmittingSelector))\n    this.backendErrors$ = this.store.pipe(select(validationErrorsSelector))\n  }\n\n  initializeForm(): void {\n    this.form = this.fb.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    })\n  }\n\n  onSubmit(): void {\n    const request: LoginRequestInterface = {\n      user: this.form.value\n    }\n    this.store.dispatch(loginAction({request}))\n  }\n}\n","<div class=\"auth-page\">\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 class=\"text-xs-center\">Войти</h1>\n        <p class=\"text-xs-center\">\n          <a [routerLink]=\"['/register']\">Нужен аккаунт?</a>\n        </p>\n        <mc-backend-error-messages\n          *ngIf=\"backendErrors$ | async\"\n          [backendErrors]=\"backendErrors$ | async\"\n        ></mc-backend-error-messages>\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n          <fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Email\"\n                formControlName=\"email\"\n              />\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Password\"\n                formControlName=\"password\"\n              />\n            </fieldset>\n            <button\n              class=\"btn btn-lg btn-primary pull-xs-right\"\n              type=\"submit\"\n              [disabled]=\"isSubmitting$ | async\"\n            >\n              Войти\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core'\nimport {FormGroup, FormBuilder, Validators} from '@angular/forms'\nimport {Store, select} from '@ngrx/store'\nimport {Observable} from 'rxjs'\n\nimport {registerAction} from 'src/app/auth/store/actions/register.action'\nimport {\n  isSubmittingSelector,\n  validationErrorsSelector\n} from 'src/app/auth/store/selectors'\nimport {RegisterRequestInterface} from 'src/app/auth/types/registerRequest.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\n@Component({\n  selector: 'mc-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  form: FormGroup\n  isSubmitting$: Observable<boolean>\n  backendErrors$: Observable<BackendErrorsInterface | null>\n\n  constructor(private fb: FormBuilder, private store: Store) {}\n\n  ngOnInit(): void {\n    this.initializeForm()\n    this.initializeValues()\n  }\n\n  initializeValues(): void {\n    this.isSubmitting$ = this.store.pipe(select(isSubmittingSelector))\n    this.backendErrors$ = this.store.pipe(select(validationErrorsSelector))\n  }\n\n  initializeForm(): void {\n    console.log('initializeForm')\n    this.form = this.fb.group({\n      username: ['', Validators.required],\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    })\n  }\n\n  onSubmit(): void {\n    console.log('submit', this.form.value, this.form.valid)\n    const request: RegisterRequestInterface = {\n      user: this.form.value\n    }\n    this.store.dispatch(registerAction({request}))\n  }\n}\n","<div class=\"auth-page\">\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 class=\"text-xs-center\">Зарегистрироваться</h1>\n        <p class=\"text-xs-center\">\n          <a [routerLink]=\"['/login']\">Есть аккаунт?</a>\n        </p>\n        <mc-backend-error-messages\n          *ngIf=\"backendErrors$ | async\"\n          [backendErrors]=\"backendErrors$ | async\"\n        ></mc-backend-error-messages>\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n          <fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Username\"\n                formControlName=\"username\"\n              />\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Email\"\n                formControlName=\"email\"\n              />\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Password\"\n                formControlName=\"password\"\n              />\n            </fieldset>\n            <button\n              class=\"btn btn-lg btn-primary pull-xs-right\"\n              type=\"submit\"\n              [disabled]=\"isSubmitting$ | async\"\n            >\n              Зарегистрироваться\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {map} from 'rxjs/operators'\n\nimport {RegisterRequestInterface} from 'src/app/auth/types/registerRequest.interface'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {environment} from 'src/environments/environment'\nimport {AuthResponseInterface} from 'src/app/auth/types/authResponse.interface'\nimport {LoginRequestInterface} from 'src/app/auth/types/loginRequest.interface'\nimport {CurrentUserInputInterface} from 'src/app/shared/types/currentUserInput.interface'\n\n@Injectable()\nexport class AuthService {\n  constructor(private http: HttpClient) {}\n\n  getUser(response: AuthResponseInterface): CurrentUserInterface {\n    return response.user\n  }\n\n  register(data: RegisterRequestInterface): Observable<CurrentUserInterface> {\n    const url = environment.apiUrl + '/users'\n    return this.http\n      .post<AuthResponseInterface>(url, data)\n      .pipe(map(this.getUser))\n  }\n\n  login(data: LoginRequestInterface): Observable<CurrentUserInterface> {\n    const url = environment.apiUrl + '/users/login'\n    return this.http\n      .post<AuthResponseInterface>(url, data)\n      .pipe(map(this.getUser))\n  }\n\n  getCurrentUser(): Observable<CurrentUserInterface> {\n    const url = environment.apiUrl + '/user'\n    return this.http.get(url).pipe(map(this.getUser))\n  }\n\n  updateCurrentUser(\n    data: CurrentUserInputInterface\n  ): Observable<CurrentUserInterface> {\n    const url = environment.apiUrl + '/user'\n    return this.http.put(url, data).pipe(map(this.getUser))\n  }\n}\n","export enum ActionTypes {\n  REGISTER = '[Auth] Register',\n  REGISTER_SUCCESS = '[Auth] Register success',\n  REGISTER_FAILURE = '[Auth] Register failure',\n\n  LOGIN = '[Auth] Login',\n  LOGIN_SUCCESS = '[Auth] Login success',\n  LOGIN_FAILURE = '[Auth] Login failure',\n\n  GET_CURRENT_USER = '[Auth] Get current user',\n  GET_CURRENT_USER_SUCCESS = '[Auth] Get current user success',\n  GET_CURRENT_USER_FAILURE = '[Auth] Get current user failure',\n\n  UPDATE_CURRENT_USER = '[Auth] Update current user',\n  UPDATE_CURRENT_USER_SUCCESS = '[Auth] Update current user success',\n  UPDATE_CURRENT_USER_FAILURE = '[Auth] Update current user failure',\n\n  LOGOUT = '[Auth] Logout'\n}\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from 'src/app/auth/store/actionTypes'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\n\nexport const getCurrentUserAction = createAction(ActionTypes.GET_CURRENT_USER)\n\nexport const getCurrentUserSuccessAction = createAction(\n  ActionTypes.GET_CURRENT_USER_SUCCESS,\n  props<{currentUser: CurrentUserInterface}>()\n)\n\nexport const getCurrentUserFailureAction = createAction(\n  ActionTypes.GET_CURRENT_USER_FAILURE\n)\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from 'src/app/auth/store/actionTypes'\nimport {LoginRequestInterface} from 'src/app/auth/types/loginRequest.interface'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\nexport const loginAction = createAction(\n  ActionTypes.LOGIN,\n  props<{request: LoginRequestInterface}>()\n)\n\nexport const loginSuccessAction = createAction(\n  ActionTypes.LOGIN_SUCCESS,\n  props<{currentUser: CurrentUserInterface}>()\n)\n\nexport const loginFailureAction = createAction(\n  ActionTypes.LOGIN_FAILURE,\n  props<{errors: BackendErrorsInterface}>()\n)\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from 'src/app/auth/store/actionTypes'\nimport {RegisterRequestInterface} from 'src/app/auth/types/registerRequest.interface'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\nexport const registerAction = createAction(\n  ActionTypes.REGISTER,\n  props<{request: RegisterRequestInterface}>()\n)\n\nexport const registerSuccessAction = createAction(\n  ActionTypes.REGISTER_SUCCESS,\n  props<{currentUser: CurrentUserInterface}>()\n)\n\nexport const registerFailureAction = createAction(\n  ActionTypes.REGISTER_FAILURE,\n  props<{errors: BackendErrorsInterface}>()\n)\n","import {createAction} from '@ngrx/store'\nimport {ActionTypes} from '../actionTypes'\n\nexport const logoutAction = createAction(ActionTypes.LOGOUT)\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from 'src/app/auth/store/actionTypes'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {CurrentUserInputInterface} from 'src/app/shared/types/currentUserInput.interface'\n\nexport const updateCurrentUserAction = createAction(\n  ActionTypes.UPDATE_CURRENT_USER,\n  props<{currentUserInput: CurrentUserInputInterface}>()\n)\n\nexport const updateCurrentUserSuccessAction = createAction(\n  ActionTypes.UPDATE_CURRENT_USER_SUCCESS,\n  props<{currentUser: CurrentUserInterface}>()\n)\n\nexport const updateCurrentUserFailureAction = createAction(\n  ActionTypes.UPDATE_CURRENT_USER_FAILURE,\n  props<{errors: BackendErrorsInterface}>()\n)\n\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {AuthService} from 'src/app/auth/services/auth.service'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {PersistanceService} from 'src/app/shared/services/persistance.service'\nimport {\n  getCurrentUserAction,\n  getCurrentUserSuccessAction,\n  getCurrentUserFailureAction\n} from 'src/app/auth/store/actions/getCurrentUser.action'\n\n@Injectable()\nexport class GetCurrentUserEffect {\n  getCurrentUser$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getCurrentUserAction),\n      switchMap(() => {\n        const token = this.persistanceService.get('accessToken')\n\n        if (!token) {\n          return of(getCurrentUserFailureAction())\n        }\n\n        return this.authService.getCurrentUser().pipe(\n          map((currentUser: CurrentUserInterface) => {\n            return getCurrentUserSuccessAction({currentUser})\n          }),\n\n          catchError(() => {\n            return of(getCurrentUserFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private authService: AuthService,\n    private persistanceService: PersistanceService\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\nimport {Router} from '@angular/router'\nimport {of} from 'rxjs'\n\nimport {AuthService} from 'src/app/auth/services/auth.service'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {PersistanceService} from 'src/app/shared/services/persistance.service'\nimport {\n  loginAction,\n  loginSuccessAction,\n  loginFailureAction\n} from 'src/app/auth/store/actions/login.action'\n\n@Injectable()\nexport class LoginEffect {\n  login$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(loginAction),\n      switchMap(({request}) => {\n        return this.authService.login(request).pipe(\n          map((currentUser: CurrentUserInterface) => {\n            this.persistanceService.set('accessToken', currentUser.token)\n            return loginSuccessAction({currentUser})\n          }),\n\n          catchError((errorResponse: HttpErrorResponse) => {\n            return of(loginFailureAction({errors: errorResponse.error.errors}))\n          })\n        )\n      })\n    )\n  )\n\n  redirectAfterSubmit$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(loginSuccessAction),\n        tap(() => {\n          this.router.navigateByUrl('/')\n        })\n      ),\n    {dispatch: false}\n  )\n\n  constructor(\n    private actions$: Actions,\n    private authService: AuthService,\n    private persistanceService: PersistanceService,\n    private router: Router\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {Actions, createEffect, ofType} from '@ngrx/effects'\nimport {logoutAction} from 'src/app/auth/store/actions/sync.action'\nimport {tap} from 'rxjs/operators'\nimport {PersistanceService} from 'src/app/shared/services/persistance.service'\nimport {Router} from '@angular/router'\n\n@Injectable()\nexport class LogoutEffect {\n  logout$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(logoutAction),\n        tap(() => {\n          this.persistanceService.set('accessToken', '')\n          this.router.navigateByUrl('/')\n        })\n      ),\n    {dispatch: false}\n  )\n  constructor(\n    private actions$: Actions,\n    private persistanceService: PersistanceService,\n    private router: Router\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\n\nimport {\n  registerAction,\n  registerSuccessAction,\n  registerFailureAction\n} from '../actions/register.action'\nimport {AuthService} from '../../services/auth.service'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {of} from 'rxjs'\nimport {PersistanceService} from 'src/app/shared/services/persistance.service'\nimport {Router} from '@angular/router'\n\n@Injectable()\nexport class RegisterEffect {\n  register$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(registerAction),\n      switchMap(({request}) => {\n        return this.authService.register(request).pipe(\n          map((currentUser: CurrentUserInterface) => {\n            this.persistanceService.set('accessToken', currentUser.token)\n            return registerSuccessAction({currentUser})\n          }),\n\n          catchError((errorResponse: HttpErrorResponse) => {\n            return of(\n              registerFailureAction({errors: errorResponse.error.errors})\n            )\n          })\n        )\n      })\n    )\n  )\n\n  redirectAfterSubmit$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(registerSuccessAction),\n        tap(() => {\n          this.router.navigateByUrl('/')\n        })\n      ),\n    {dispatch: false}\n  )\n\n  constructor(\n    private actions$: Actions,\n    private authService: AuthService,\n    private persistanceService: PersistanceService,\n    private router: Router\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\nimport {of} from 'rxjs'\n\nimport {AuthService} from 'src/app/auth/services/auth.service'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {\n  updateCurrentUserFailureAction,\n  updateCurrentUserSuccessAction,\n  updateCurrentUserAction\n} from 'src/app/auth/store/actions/updateCurrentUser.action'\n\n@Injectable()\nexport class UpdateCurrentUserEffect {\n  updateCurrentUser$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(updateCurrentUserAction),\n      switchMap(({currentUserInput}) => {\n        return this.authService.updateCurrentUser(currentUserInput).pipe(\n          map((currentUser: CurrentUserInterface) => {\n            return updateCurrentUserSuccessAction({currentUser})\n          }),\n\n          catchError((errorResponse: HttpErrorResponse) => {\n            return of(\n              updateCurrentUserFailureAction({\n                errors: errorResponse.error.errors\n              })\n            )\n          })\n        )\n      })\n    )\n  )\n\n  constructor(private actions$: Actions, private authService: AuthService) {}\n}\n","import {createReducer, on, Action} from '@ngrx/store'\n\nimport {AuthStateInterface} from 'src/app/auth/types/authState.interface'\nimport {\n  registerAction,\n  registerSuccessAction,\n  registerFailureAction\n} from 'src/app/auth/store/actions/register.action'\nimport {\n  loginAction,\n  loginSuccessAction,\n  loginFailureAction\n} from 'src/app/auth/store/actions/login.action'\nimport {\n  getCurrentUserAction,\n  getCurrentUserSuccessAction,\n  getCurrentUserFailureAction\n} from 'src/app/auth/store/actions/getCurrentUser.action'\nimport {updateCurrentUserSuccessAction} from './actions/updateCurrentUser.action'\nimport {logoutAction} from './actions/sync.action'\n\nconst initialState: AuthStateInterface = {\n  isSubmitting: false,\n  isLoading: false,\n  currentUser: null,\n  validationErrors: null,\n  isLoggedIn: null\n}\n\nconst authReducer = createReducer(\n  initialState,\n  on(\n    registerAction,\n    (state): AuthStateInterface => ({\n      ...state,\n      isSubmitting: true,\n      validationErrors: null\n    })\n  ),\n  on(\n    registerSuccessAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      isLoggedIn: true,\n      currentUser: action.currentUser\n    })\n  ),\n  on(\n    registerFailureAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      validationErrors: action.errors\n    })\n  ),\n  on(\n    loginAction,\n    (state): AuthStateInterface => ({\n      ...state,\n      isSubmitting: true,\n      validationErrors: null\n    })\n  ),\n  on(\n    loginSuccessAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      isLoggedIn: true,\n      currentUser: action.currentUser\n    })\n  ),\n  on(\n    loginFailureAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      validationErrors: action.errors\n    })\n  ),\n  on(\n    getCurrentUserAction,\n    (state): AuthStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getCurrentUserSuccessAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      isLoading: false,\n      isLoggedIn: true,\n      currentUser: action.currentUser\n    })\n  ),\n  on(\n    getCurrentUserFailureAction,\n    (state): AuthStateInterface => ({\n      ...state,\n      isLoading: false,\n      isLoggedIn: false,\n      currentUser: null\n    })\n  ),\n  on(\n    updateCurrentUserSuccessAction,\n    (state, action): AuthStateInterface => ({\n      ...state,\n      currentUser: action.currentUser\n    })\n  ),\n  on(\n    logoutAction,\n    (state): AuthStateInterface => ({\n      ...state,\n      ...initialState,\n      isLoggedIn: false\n    })\n  )\n)\n\nexport function reducers(state: AuthStateInterface, action: Action) {\n  return authReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {AuthStateInterface} from 'src/app/auth/types/authState.interface'\n\nexport const authFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  AuthStateInterface\n>('auth')\n\nexport const isSubmittingSelector = createSelector(\n  authFeatureSelector,\n  (authState: AuthStateInterface) => authState.isSubmitting\n)\n\nexport const validationErrorsSelector = createSelector(\n  authFeatureSelector,\n  (authState: AuthStateInterface) => authState.validationErrors\n)\n\nexport const isLoggedInSelector = createSelector(\n  authFeatureSelector,\n  (authState: AuthStateInterface) => authState.isLoggedIn\n)\n\nexport const isAnonymousSelector = createSelector(\n  authFeatureSelector,\n  (authState: AuthStateInterface) => authState.isLoggedIn === false\n)\n\nexport const currentUserSelector = createSelector(\n  authFeatureSelector,\n  (authState: AuthStateInterface) => authState.currentUser\n)\n","import {Component, OnInit} from '@angular/core'\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {Observable} from 'rxjs'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {Store, select} from '@ngrx/store'\nimport {\n  isSubmittingSelector,\n  validationErrorsSelector\n} from '../../store/selectors'\nimport {createArticleAction} from '../../store/actions/createArticle.action'\n\n@Component({\n  selector: 'mc-create-article',\n  templateUrl: './createArticle.component.html',\n  styleUrls: ['./createArticle.component.scss']\n})\nexport class CreateArticleComponent implements OnInit {\n  initialValues: ArticleInputInterface = {\n    title: '',\n    description: '',\n    body: '',\n    tagList: []\n  }\n  isSubmitting$: Observable<boolean>\n  backendErrors$: Observable<BackendErrorsInterface | null>\n\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.isSubmitting$ = this.store.pipe(select(isSubmittingSelector))\n    this.backendErrors$ = this.store.pipe(select(validationErrorsSelector))\n  }\n\n  onSubmit(articleInput: ArticleInputInterface): void {\n    this.store.dispatch(createArticleAction({articleInput}))\n  }\n}\n","<mc-article-form\n  [initialValues]=\"initialValues\"\n  [isSubmitting]=\"isSubmitting$ | async\"\n  [errors]=\"backendErrors$ | async\"\n  (articleSubmit)=\"onSubmit($event)\"\n></mc-article-form>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {CreateArticleComponent} from 'src/app/createArticle/components/createArticle/createArticle.component'\nimport {RouterModule} from '@angular/router'\nimport {ArticleFormModule} from 'src/app/shared/modules/articleForm/articleForm.module'\nimport {CreateArticleService} from 'src/app/createArticle/services/createArticle.service'\nimport {EffectsModule} from '@ngrx/effects'\nimport {CreateArticleEffect} from './store/effects/createArticle.effect'\nimport {StoreModule} from '@ngrx/store'\nimport {reducers} from 'src/app/createArticle/store/reducers'\n\nconst routes = [\n  {\n    path: 'articles/new',\n    component: CreateArticleComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    ArticleFormModule,\n    EffectsModule.forFeature([CreateArticleEffect]),\n    StoreModule.forFeature('createArticle', reducers)\n  ],\n  declarations: [CreateArticleComponent],\n  providers: [CreateArticleService]\n})\nexport class CreateArticleModule {}\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {map} from 'rxjs/operators'\n\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {environment} from 'src/environments/environment'\nimport {SaveArticleResponseInterface} from 'src/app/shared/types/saveArticleResponse.interface'\n\n@Injectable()\nexport class CreateArticleService {\n  constructor(private http: HttpClient) {}\n\n  createArticle(\n    articleInput: ArticleInputInterface\n  ): Observable<ArticleInterface> {\n    const fullUrl = environment.apiUrl + '/articles'\n    return this.http\n      .post<SaveArticleResponseInterface>(fullUrl, articleInput)\n      .pipe(\n        map((response: SaveArticleResponseInterface) => {\n          return response.article\n        })\n      )\n  }\n}\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from '../actionsTypes'\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\nexport const createArticleAction = createAction(\n  ActionTypes.CREATE_ARTICLE,\n  props<{articleInput: ArticleInputInterface}>()\n)\n\nexport const createArticleSuccessAction = createAction(\n  ActionTypes.CREATE_ARTICLE_SUCCESS,\n  props<{article: ArticleInterface}>()\n)\n\nexport const createArticleFailureAction = createAction(\n  ActionTypes.CREATE_ARTICLE_FAILURE,\n  props<{errors: BackendErrorsInterface}>()\n)\n","export enum ActionTypes {\n  CREATE_ARTICLE = '[Create article] Create Article',\n  CREATE_ARTICLE_SUCCESS = '[Create article] Create Article success',\n  CREATE_ARTICLE_FAILURE = '[Create article] Create Article failure'\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\nimport {Router} from '@angular/router'\nimport {of} from 'rxjs'\n\nimport {CreateArticleService} from '../../services/createArticle.service'\nimport {\n  createArticleSuccessAction,\n  createArticleFailureAction,\n  createArticleAction\n} from 'src/app/createArticle/store/actions/createArticle.action'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\n@Injectable()\nexport class CreateArticleEffect {\n  createArticle$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(createArticleAction),\n      switchMap(({articleInput}) => {\n        return this.createArticleService.createArticle(articleInput).pipe(\n          map((article: ArticleInterface) => {\n            return createArticleSuccessAction({article})\n          }),\n\n          catchError((errorResponse: HttpErrorResponse) => {\n            return of(\n              createArticleFailureAction({errors: errorResponse.error.errors})\n            )\n          })\n        )\n      })\n    )\n  )\n\n  redirectAfterCreate$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(createArticleSuccessAction),\n        tap(({article}) => {\n          this.router.navigate(['/articles', article.slug])\n        })\n      ),\n    {dispatch: false}\n  )\n\n  constructor(\n    private actions$: Actions,\n    private createArticleService: CreateArticleService,\n    private router: Router\n  ) {}\n}\n","import {CreateArticleStateInterface} from '../types/createArticleState.interface'\nimport {createReducer, on, Action} from '@ngrx/store'\nimport {\n  createArticleAction,\n  createArticleSuccessAction,\n  createArticleFailureAction\n} from './actions/createArticle.action'\n\nconst initialState: CreateArticleStateInterface = {\n  isSubmitting: false,\n  validationErrors: null\n}\n\nconst createArticleReducer = createReducer(\n  initialState,\n  on(\n    createArticleAction,\n    (state): CreateArticleStateInterface => ({\n      ...state,\n      isSubmitting: true\n    })\n  ),\n\n  on(\n    createArticleSuccessAction,\n    (state): CreateArticleStateInterface => ({\n      ...state,\n      isSubmitting: false\n    })\n  ),\n\n  on(\n    createArticleFailureAction,\n    (state, action): CreateArticleStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      validationErrors: action.errors\n    })\n  )\n)\n\nexport function reducers(state: CreateArticleStateInterface, action: Action) {\n  return createArticleReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {CreateArticleStateInterface} from 'src/app/createArticle/types/createArticleState.interface'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\n\nexport const createArticleFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  CreateArticleStateInterface\n>('createArticle')\n\nexport const isSubmittingSelector = createSelector(\n  createArticleFeatureSelector,\n  (createArticleState: CreateArticleStateInterface) =>\n    createArticleState.isSubmitting\n)\n\nexport const validationErrorsSelector = createSelector(\n  createArticleFeatureSelector,\n  (createArticleState: CreateArticleStateInterface) =>\n    createArticleState.validationErrors\n)\n","import {Component, OnInit} from '@angular/core'\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {Observable} from 'rxjs'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {Store, select} from '@ngrx/store'\nimport {\n  isSubmittingSelector,\n  validationErrorsSelector,\n  isLoadingSelector,\n  articleSelector\n} from '../../store/selectors'\nimport {getArticleAction} from '../../store/actions/getArticle.action'\nimport {ActivatedRoute} from '@angular/router'\nimport {filter, map} from 'rxjs/operators'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {updateArticleAction} from 'src/app/editArticle/store/actions/updateArticle.action'\n\n@Component({\n  selector: 'mc-edit-article',\n  templateUrl: './editArticle.component.html',\n  styleUrls: ['./editArticle.component.scss']\n})\nexport class EditArticleComponent implements OnInit {\n  initialValues$: Observable<ArticleInputInterface>\n  isSubmitting$: Observable<boolean>\n  isLoading$: Observable<boolean>\n  backendErrors$: Observable<BackendErrorsInterface | null>\n  slug: string\n\n  constructor(private store: Store, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.initialValues()\n    this.fetchData()\n  }\n\n  initialValues(): void {\n    this.slug = this.route.snapshot.paramMap.get('slug')\n    this.isSubmitting$ = this.store.pipe(select(isSubmittingSelector))\n    this.isLoading$ = this.store.pipe(select(isLoadingSelector))\n    this.backendErrors$ = this.store.pipe(select(validationErrorsSelector))\n    this.initialValues$ = this.store.pipe(\n      select(articleSelector),\n      filter(Boolean),\n      map((article: ArticleInterface) => {\n        return {\n          title: article.title,\n          description: article.description,\n          body: article.body,\n          tagList: article.tagList\n        }\n      })\n    )\n  }\n\n  fetchData(): void {\n    this.store.dispatch(getArticleAction({slug: this.slug}))\n  }\n\n  onSubmit(articleInput: ArticleInputInterface): void {\n    this.store.dispatch(updateArticleAction({slug: this.slug, articleInput}))\n  }\n}\n","<mc-loading *ngIf=\"isLoading$ | async\"></mc-loading>\n<mc-article-form\n  *ngIf=\"initialValues$ | async\"\n  [initialValues]=\"initialValues$ | async\"\n  [isSubmitting]=\"isSubmitting$ | async\"\n  [errors]=\"backendErrors$ | async\"\n  (articleSubmit)=\"onSubmit($event)\"\n></mc-article-form>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {CreateArticleComponent} from 'src/app/createArticle/components/createArticle/createArticle.component'\nimport {RouterModule} from '@angular/router'\nimport {ArticleFormModule} from 'src/app/shared/modules/articleForm/articleForm.module'\nimport {CreateArticleService} from 'src/app/createArticle/services/createArticle.service'\nimport {EffectsModule} from '@ngrx/effects'\nimport {StoreModule} from '@ngrx/store'\nimport {reducers} from 'src/app/editArticle/store/reducers'\nimport {EditArticleComponent} from './components/editArticle/editArticle.component'\nimport {UpdateArticleEffect} from './store/effects/updateArticle.effect'\nimport {GetArticleEffect} from './store/effects/getArticle.effect'\nimport {EditArticleService} from 'src/app/editArticle/services/editArticle.service'\nimport {ArticleService as SharedArticleService} from 'src/app/shared/services/article.service'\nimport {LoadingModule} from '../shared/modules/loading/loading.module'\n\nconst routes = [\n  {\n    path: 'articles/:slug/edit',\n    component: EditArticleComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    ArticleFormModule,\n    EffectsModule.forFeature([UpdateArticleEffect, GetArticleEffect]),\n    StoreModule.forFeature('editArticle', reducers),\n    LoadingModule\n  ],\n  declarations: [EditArticleComponent],\n  providers: [EditArticleService, SharedArticleService]\n})\nexport class EditArticleModule {}\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {map} from 'rxjs/operators'\n\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {environment} from 'src/environments/environment'\nimport {SaveArticleResponseInterface} from 'src/app/shared/types/saveArticleResponse.interface'\n\n@Injectable()\nexport class EditArticleService {\n  constructor(private http: HttpClient) {}\n\n  updateArticle(\n    slug: string,\n    articleInput: ArticleInputInterface\n  ): Observable<ArticleInterface> {\n    const fullUrl = `${environment.apiUrl}/articles/${slug}`\n    return this.http\n      .put<SaveArticleResponseInterface>(fullUrl, articleInput)\n      .pipe(\n        map((response: SaveArticleResponseInterface) => {\n          return response.article\n        })\n      )\n  }\n}\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from '../actionsTypes'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\nexport const getArticleAction = createAction(\n  ActionTypes.GET_ARTICLE,\n  props<{slug: string}>()\n)\n\nexport const getArticleSuccessAction = createAction(\n  ActionTypes.GET_ARTICLE_SUCCESS,\n  props<{article: ArticleInterface}>()\n)\n\nexport const getArticleFailureAction = createAction(\n  ActionTypes.GET_ARTICLE_FAILURE\n)\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from '../actionsTypes'\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\nexport const updateArticleAction = createAction(\n  ActionTypes.UPDATE_ARTICLE,\n  props<{slug: string; articleInput: ArticleInputInterface}>()\n)\n\nexport const updateArticleSuccessAction = createAction(\n  ActionTypes.UPDATE_ARTICLE_SUCCESS,\n  props<{article: ArticleInterface}>()\n)\n\nexport const updateArticleFailureAction = createAction(\n  ActionTypes.UPDATE_ARTICLE_FAILURE,\n  props<{errors: BackendErrorsInterface}>()\n)\n","export enum ActionTypes {\n  UPDATE_ARTICLE = '[Update article] Update Article',\n  UPDATE_ARTICLE_SUCCESS = '[Update article] Update Article success',\n  UPDATE_ARTICLE_FAILURE = '[Update article] Update Article failure',\n\n  GET_ARTICLE = '[Update article] Get Article',\n  GET_ARTICLE_SUCCESS = '[Update article] Get Article success',\n  GET_ARTICLE_FAILURE = '[Update article] Get Article failure'\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\nimport {Router} from '@angular/router'\nimport {of} from 'rxjs'\n\nimport {\n  createArticleSuccessAction,\n  createArticleFailureAction,\n  createArticleAction\n} from 'src/app/createArticle/store/actions/createArticle.action'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {ArticleService as SharedArticleService} from 'src/app/shared/services/article.service'\nimport {\n  getArticleAction,\n  getArticleSuccessAction,\n  getArticleFailureAction\n} from '../actions/getArticle.action'\n\n@Injectable()\nexport class GetArticleEffect {\n  getArticle$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getArticleAction),\n      switchMap(({slug}) => {\n        return this.sharedArticleService.getArticle(slug).pipe(\n          map((article: ArticleInterface) => {\n            return getArticleSuccessAction({article})\n          }),\n\n          catchError(() => {\n            return of(getArticleFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private sharedArticleService: SharedArticleService,\n    private router: Router\n  ) {}\n}\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap, tap} from 'rxjs/operators'\nimport {HttpErrorResponse} from '@angular/common/http'\nimport {Router} from '@angular/router'\nimport {of} from 'rxjs'\n\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {EditArticleService} from '../../services/editArticle.service'\nimport {\n  updateArticleSuccessAction,\n  updateArticleAction,\n  updateArticleFailureAction\n} from '../actions/updateArticle.action'\n\n@Injectable()\nexport class UpdateArticleEffect {\n  updateArticle$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(updateArticleAction),\n      switchMap(({slug, articleInput}) => {\n        return this.editArticleService.updateArticle(slug, articleInput).pipe(\n          map((article: ArticleInterface) => {\n            return updateArticleSuccessAction({article})\n          }),\n\n          catchError((errorResponse: HttpErrorResponse) => {\n            return of(\n              updateArticleFailureAction({errors: errorResponse.error.errors})\n            )\n          })\n        )\n      })\n    )\n  )\n\n  redirectAfterUpdate$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(updateArticleSuccessAction),\n        tap(({article}) => {\n          this.router.navigate(['/articles', article.slug])\n        })\n      ),\n    {dispatch: false}\n  )\n\n  constructor(\n    private actions$: Actions,\n    private editArticleService: EditArticleService,\n    private router: Router\n  ) {}\n}\n","import {createReducer, on, Action} from '@ngrx/store'\n\nimport {CreateArticleStateInterface} from 'src/app/createArticle/types/createArticleState.interface'\nimport {\n  createArticleAction,\n  createArticleSuccessAction,\n  createArticleFailureAction\n} from 'src/app/createArticle/store/actions/createArticle.action'\nimport {EditArticleStateInterface} from 'src/app/editArticle/types/editArticleState.interface'\nimport {\n  updateArticleAction,\n  updateArticleSuccessAction,\n  updateArticleFailureAction\n} from 'src/app/editArticle/store/actions/updateArticle.action'\nimport {\n  getArticleAction,\n  getArticleSuccessAction,\n  getArticleFailureAction\n} from 'src/app/editArticle/store/actions/getArticle.action'\n\nconst initialState: EditArticleStateInterface = {\n  isLoading: false,\n  article: null,\n  isSubmitting: false,\n  validationErrors: null\n}\n\nconst editArticleReducer = createReducer(\n  initialState,\n  on(\n    updateArticleAction,\n    (state): EditArticleStateInterface => ({\n      ...state,\n      isSubmitting: true\n    })\n  ),\n  on(\n    updateArticleSuccessAction,\n    (state): EditArticleStateInterface => ({\n      ...state,\n      isSubmitting: false\n    })\n  ),\n  on(\n    updateArticleFailureAction,\n    (state, action): EditArticleStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      validationErrors: action.errors\n    })\n  ),\n  on(\n    getArticleAction,\n    (state): EditArticleStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getArticleSuccessAction,\n    (state, action): EditArticleStateInterface => ({\n      ...state,\n      isLoading: false,\n      article: action.article\n    })\n  ),\n  on(\n    getArticleFailureAction,\n    (state): EditArticleStateInterface => ({\n      ...state,\n      isLoading: false\n    })\n  )\n)\n\nexport function reducers(state: EditArticleStateInterface, action: Action) {\n  return editArticleReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {EditArticleStateInterface} from '../types/editArticleState.interface'\n\nexport const editArticleFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  EditArticleStateInterface\n>('editArticle')\n\nexport const articleSelector = createSelector(\n  editArticleFeatureSelector,\n  (editArticleState: EditArticleStateInterface) => editArticleState.article\n)\n\nexport const isLoadingSelector = createSelector(\n  editArticleFeatureSelector,\n  (editArticleState: EditArticleStateInterface) => editArticleState.isLoading\n)\n\nexport const isSubmittingSelector = createSelector(\n  editArticleFeatureSelector,\n  (editArticleState: EditArticleStateInterface) => editArticleState.isSubmitting\n)\n\nexport const validationErrorsSelector = createSelector(\n  editArticleFeatureSelector,\n  (editArticleState: EditArticleStateInterface) =>\n    editArticleState.validationErrors\n)\n","import {Component} from '@angular/core'\n\n@Component({\n  selector: 'mc-global-feed',\n  templateUrl: './globalFeed.component.html',\n  styleUrls: ['./globalFeed.component.scss']\n})\nexport class GlobalFeedComponent {\n  apiUrl = '/articles'\n}\n","<div class=\"home-page\">\n  <mc-banner></mc-banner>\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <mc-feed-toggler></mc-feed-toggler>\n        <mc-feed [apiUrl]=\"apiUrl\"></mc-feed>\n      </div>\n      <div class=\"col-md-3\">\n        <mc-popular-tags></mc-popular-tags>\n      </div>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\n\nimport {GlobalFeedComponent} from 'src/app/globalFeed/components/globalFeed/globalFeed.component'\nimport {FeedModule} from 'src/app/shared/modules/feed/feed.module'\nimport {BannerModule} from 'src/app/shared/modules/banner/banner.module'\nimport {PopularTagsModule} from '../shared/modules/popularTags/popularTags.module'\nimport {FeedTogglerModule} from 'src/app/shared/modules/feedToggler/feedToggler.module'\n\nconst routes = [\n  {\n    path: '',\n    component: GlobalFeedComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FeedModule,\n    BannerModule,\n    PopularTagsModule,\n    FeedTogglerModule\n  ],\n  declarations: [GlobalFeedComponent]\n})\nexport class GlobalFeedModule {}\n","import {Component, OnInit, OnDestroy} from '@angular/core'\nimport {FormGroup, FormBuilder} from '@angular/forms'\nimport {Store, select} from '@ngrx/store'\nimport {currentUserSelector} from 'src/app/auth/store/selectors'\nimport {filter} from 'rxjs/operators'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {Subscription, Observer, Observable} from 'rxjs'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {\n  isSubmittingSelector,\n  validationErrorsSelector\n} from '../../store/selectors'\nimport {CurrentUserInputInterface} from 'src/app/shared/types/currentUserInput.interface'\nimport {updateCurrentUserAction} from 'src/app/auth/store/actions/updateCurrentUser.action'\nimport {logoutAction} from 'src/app/auth/store/actions/sync.action'\n\n@Component({\n  selector: 'mc-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss']\n})\nexport class SettingsComponent implements OnInit, OnDestroy {\n  form: FormGroup\n  currentUser: CurrentUserInterface\n  currentUserSubscription: Subscription\n  isSubmitting$: Observable<boolean>\n  backendErrors$: Observable<BackendErrorsInterface | null>\n\n  constructor(private fb: FormBuilder, private store: Store) {}\n\n  ngOnInit(): void {\n    this.initializeValues()\n    this.initializeListeners()\n  }\n\n  ngOnDestroy(): void {\n    this.currentUserSubscription.unsubscribe()\n  }\n  initializeValues(): void {\n    this.isSubmitting$ = this.store.pipe(select(isSubmittingSelector))\n    this.backendErrors$ = this.store.pipe(select(validationErrorsSelector))\n  }\n\n  initializeListeners(): void {\n    this.currentUserSubscription = this.store\n      .pipe(select(currentUserSelector), filter(Boolean))\n      .subscribe((currentUser: CurrentUserInterface) => {\n        this.currentUser = currentUser\n        this.initializeForm()\n      })\n  }\n\n  initializeForm(): void {\n    this.form = this.fb.group({\n      image: this.currentUser.image,\n      username: this.currentUser.username,\n      bio: this.currentUser.bio,\n      email: this.currentUser.email,\n      password: ''\n    })\n  }\n\n  submit(): void {\n    const currentUserInput: CurrentUserInputInterface = {\n      ...this.currentUser,\n      ...this.form.value\n    }\n    this.store.dispatch(updateCurrentUserAction({currentUserInput}))\n  }\n\n  logout(): void {\n    this.store.dispatch(logoutAction())\n  }\n}\n","<div class=\"settings-page\" *ngIf=\"currentUser\">\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\n        <h1 class=\"text-xs-center\">Настройки</h1>\n        <mc-backend-error-messages\n          *ngIf=\"backendErrors$ | async\"\n          [backendErrors]=\"backendErrors$ | async\"\n        ></mc-backend-error-messages>\n        <form [formGroup]=\"form\" (ngSubmit)=\"submit()\">\n          <fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                formControlName=\"image\"\n                placeholder=\"URL of profile picture\"\n              />\n            </fieldset>\n\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                formControlName=\"username\"\n                placeholder=\"Username\"\n              />\n            </fieldset>\n\n            <fieldset class=\"form-group\">\n              <textarea\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                formControlName=\"bio\"\n                placeholder=\"Short bio about you\"\n              ></textarea>\n            </fieldset>\n\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                formControlName=\"email\"\n                placeholder=\"Email\"\n              />\n            </fieldset>\n\n            <fieldset class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control form-control-lg\"\n                formControlName=\"password\"\n                placeholder=\"New password\"\n              />\n            </fieldset>\n            <button\n              type=\"submit\"\n              class=\"btn btn-lg btn-primary pull-xs-right\"\n              [disabled]=\"form.invalid || (isSubmitting$ | async)\"\n            >\n              Обновить настройки\n            </button>\n          </fieldset>\n        </form>\n        <hr />\n        <button class=\"btn btn-outline-danger\" (click)=\"logout()\" type=\"text\">\n          Выход\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {SettingsComponent} from 'src/app/settings/components/settings/settings.component'\nimport {RouterModule} from '@angular/router'\nimport {StoreModule} from '@ngrx/store'\nimport {reducers} from 'src/app/settings/store/reducers'\nimport {BackendErrorMessagesModule} from 'src/app/shared/modules/backendErrorMessages/backendErrorMessages.module'\nimport {ReactiveFormsModule} from '@angular/forms'\n\nconst routes = [\n  {\n    path: 'settings',\n    component: SettingsComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    StoreModule.forFeature('settings', reducers),\n    BackendErrorMessagesModule,\n    ReactiveFormsModule\n  ],\n  declarations: [SettingsComponent]\n})\nexport class SettingsModule {}\n","import {SettingsStateInterface} from '../types/settingsState.interface'\nimport {createReducer, on, Action} from '@ngrx/store'\nimport {\n  updateCurrentUserAction,\n  updateCurrentUserSuccessAction,\n  updateCurrentUserFailureAction\n} from 'src/app/auth/store/actions/updateCurrentUser.action'\n\nconst initialState: SettingsStateInterface = {\n  isSubmitting: false,\n  validationErrors: null\n}\n\nconst settingsReducers = createReducer(\n  initialState,\n  on(\n    updateCurrentUserAction,\n    (state): SettingsStateInterface => ({\n      ...state,\n      isSubmitting: true\n    })\n  ),\n  on(\n    updateCurrentUserSuccessAction,\n    (state): SettingsStateInterface => ({\n      ...state,\n      isSubmitting: false\n    })\n  ),\n  on(\n    updateCurrentUserFailureAction,\n    (state, action): SettingsStateInterface => ({\n      ...state,\n      isSubmitting: false,\n      validationErrors: action.errors\n    })\n  )\n)\n\nexport function reducers(state: SettingsStateInterface, action: Action) {\n  return settingsReducers(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {SettingsStateInterface} from '../types/settingsState.interface'\n\nexport const settingsFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  SettingsStateInterface\n>('settings')\n\nexport const isSubmittingSelector = createSelector(\n  settingsFeatureSelector,\n  (settingsState: SettingsStateInterface) => settingsState.isSubmitting\n)\n\nexport const validationErrorsSelector = createSelector(\n  settingsFeatureSelector,\n  (settingsState: SettingsStateInterface) => settingsState.validationErrors\n)\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {AddToFavoriteComponent} from 'src/app/shared/modules/addToFavorites/components/addToFavorites/addToFavorites.component'\nimport {AddToFavoritesService} from 'src/app/shared/modules/addToFavorites/services/addToFavorites.service'\nimport {EffectsModule} from '@ngrx/effects'\nimport {AddToFavoritesEffect} from './store/effects/addToFavorites.effect'\n\n@NgModule({\n  imports: [CommonModule, EffectsModule.forFeature([AddToFavoritesEffect])],\n  declarations: [AddToFavoriteComponent],\n  exports: [AddToFavoriteComponent],\n  providers: [AddToFavoritesService]\n})\nexport class AddToFavoriteModule {}\n","import {Component, Input, OnInit} from '@angular/core'\nimport {Store} from '@ngrx/store'\nimport {addToFavoritesAction} from '../../store/actions/addToFavorites.action'\n\n@Component({\n  selector: 'mc-add-to-favorites',\n  templateUrl: './addToFavorites.component.html',\n  styleUrls: ['./addToFavorites.component.scss']\n})\nexport class AddToFavoriteComponent implements OnInit {\n  @Input('isFavorited') isFavoritedProps: boolean\n  @Input('favoritesCount') favoritesCountProps: number\n  @Input('articleSlug') articleSlugProps: string\n\n  favoritesCount: number\n  isFavorited: boolean\n\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.favoritesCount = this.favoritesCountProps\n    this.isFavorited = this.isFavoritedProps\n  }\n\n  handleLike(): void {\n    this.store.dispatch(\n      addToFavoritesAction({\n        isFavorited: this.isFavorited,\n        slug: this.articleSlugProps\n      })\n    )\n    if (this.isFavorited) {\n      this.favoritesCount = this.favoritesCount - 1\n    } else {\n      this.favoritesCount = this.favoritesCount + 1\n    }\n\n    this.isFavorited = !this.isFavorited\n  }\n}\n","<button\n  (click)=\"handleLike()\"\n  [ngClass]=\"{\n    btn: true,\n    'btn-sm': true,\n    'btn-primary': isFavorited,\n    'btn-outline-primary': !isFavorited\n  }\"\n>\n  <i class=\"ion-heart\"></i>\n  <span>&nbsp; {{ favoritesCount }}</span>\n</button>\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\nimport {environment} from 'src/environments/environment'\nimport {GetArticleResponseInterface} from 'src/app/shared/types/getArticleResponse.interface'\nimport {map} from 'rxjs/operators'\n\n@Injectable()\nexport class AddToFavoritesService {\n  constructor(private http: HttpClient) {}\n\n  addToFavorites(slug: string): Observable<ArticleInterface> {\n    const url = this.getUrl(slug)\n\n    return this.http.post(url, {}).pipe(map(this.getArticle))\n  }\n\n  removeFromFavorites(slug: string): Observable<ArticleInterface> {\n    const url = this.getUrl(slug)\n\n    return this.http.delete(url).pipe(map(this.getArticle))\n  }\n\n  getUrl(slug: string): string {\n    return `${environment.apiUrl}/articles/${slug}/favorite`\n  }\n\n  getArticle(response: GetArticleResponseInterface): ArticleInterface {\n    return response.article\n  }\n}\n","export enum ActionTypes {\n  ADD_TO_FAVORITES = '[Add to favorites] Add to favorites',\n  ADD_TO_FAVORITES_SUCCESS = '[Add to favorites] Add to favorites success',\n  ADD_TO_FAVORITES_FAILURE = '[Add to favorites] Add to favorites failure'\n}\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from 'src/app/shared/modules/addToFavorites/store/actionTypes'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\nexport const addToFavoritesAction = createAction(\n  ActionTypes.ADD_TO_FAVORITES,\n  props<{isFavorited: boolean; slug: string}>()\n)\n\nexport const addToFavoritesSuccessAction = createAction(\n  ActionTypes.ADD_TO_FAVORITES_SUCCESS,\n  props<{article: ArticleInterface}>()\n)\nexport const addToFavoritesFailureAction = createAction(\n  ActionTypes.ADD_TO_FAVORITES_FAILURE\n)\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {AddToFavoritesService} from 'src/app/shared/modules/addToFavorites/services/addToFavorites.service'\nimport {\n  addToFavoritesAction,\n  addToFavoritesSuccessAction,\n  addToFavoritesFailureAction\n} from 'src/app/shared/modules/addToFavorites/store/actions/addToFavorites.action'\nimport {ArticleInterface} from 'src/app/shared/types/article.interface'\n\n@Injectable()\nexport class AddToFavoritesEffect {\n  addToFavorites$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(addToFavoritesAction),\n      switchMap(({isFavorited, slug}) => {\n        const article$ = isFavorited\n          ? this.addToFavoritesService.removeFromFavorites(slug)\n          : this.addToFavoritesService.addToFavorites(slug)\n        return article$.pipe(\n          map((article: ArticleInterface) => {\n            return addToFavoritesSuccessAction({article})\n          }),\n          catchError(() => {\n            return of(addToFavoritesFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private addToFavoritesService: AddToFavoritesService\n  ) {}\n}\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\n\nimport {ArticleFormComponent} from './components/articleForm/articleForm.component'\nimport {BackendErrorMessagesModule} from 'src/app/shared/modules/backendErrorMessages/backendErrorMessages.module'\nimport {ReactiveFormsModule} from '@angular/forms'\n\n@NgModule({\n  imports: [CommonModule, BackendErrorMessagesModule, ReactiveFormsModule],\n  declarations: [ArticleFormComponent],\n  exports: [ArticleFormComponent]\n})\nexport class ArticleFormModule {}\n","import {Component, Input, Output, EventEmitter, OnInit} from '@angular/core'\nimport {ArticleInputInterface} from 'src/app/shared/types/articleInput.interface'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\nimport {FormGroup, FormBuilder} from '@angular/forms'\n\n@Component({\n  selector: 'mc-article-form',\n  templateUrl: './articleForm.component.html',\n  styleUrls: ['./articleForm.component.scss']\n})\nexport class ArticleFormComponent implements OnInit {\n  @Input('initialValues') initialValuesProps: ArticleInputInterface\n  @Input('isSubmitting') isSubmittingProps: boolean\n  @Input('errors') errorsProps: BackendErrorsInterface | null\n\n  @Output('articleSubmit') articleSubmitEvent = new EventEmitter<\n    ArticleInputInterface\n  >()\n\n  form: FormGroup\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.initializeForm()\n  }\n\n  initializeForm(): void {\n    this.form = this.fb.group({\n      title: this.initialValuesProps.title,\n      description: this.initialValuesProps.description,\n      body: this.initialValuesProps.body,\n      tagList: this.initialValuesProps.tagList.join(' ')\n    })\n  }\n\n  onSubmit(): void {\n    this.articleSubmitEvent.emit(this.form.value)\n  }\n}\n","<div class=\"editor-page\">\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-10 offset-md-1 col-cs-12\">\n        <mc-backend-error-messages\n          *ngIf=\"errorsProps\"\n          [backendErrors]=\"errorsProps\"\n        ></mc-backend-error-messages>\n        <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n          <fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Article title\"\n                formControlName=\"title\"\n              />\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"What is this article about?\"\n                formControlName=\"description\"\n              />\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <textarea\n                class=\"form-control form-control-lg\"\n                rows=\"8\"\n                placeholder=\"Write your article (in markdown)\"\n                formControlName=\"body\"\n              ></textarea>\n            </fieldset>\n            <fieldset class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control form-control-lg\"\n                placeholder=\"Enter tags\"\n                formControlName=\"tagList\"\n              />\n            </fieldset>\n            <fieldset>\n              <button\n                type=\"submit\"\n                class=\"btn btn-lg pull-xs-right btn-primary\"\n                [disabled]=\"form.invalid || isSubmittingProps\"\n              >\n              Опубликовать статью\n              </button>\n            </fieldset>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\n\nimport {BackendErrorMessagesComponent} from 'src/app/shared/modules/backendErrorMessages/components/backendErrorMessages/backendErrorMessages.component'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [BackendErrorMessagesComponent],\n  exports: [BackendErrorMessagesComponent]\n})\nexport class BackendErrorMessagesModule {}\n","import {Component, Input, OnInit} from '@angular/core'\nimport {BackendErrorsInterface} from 'src/app/shared/types/backendErrors.interface'\n\n@Component({\n  selector: 'mc-backend-error-messages',\n  templateUrl: './backendErrorMessages.component.html',\n  styleUrls: ['./backendErrorMessages.components.scss']\n})\nexport class BackendErrorMessagesComponent implements OnInit {\n  @Input('backendErrors') backendErrorsProps: BackendErrorsInterface\n\n  errorMessages: string[]\n\n  ngOnInit(): void {\n    this.errorMessages = Object.keys(this.backendErrorsProps).map(\n      (name: string) => {\n        const messages = this.backendErrorsProps[name].join(' ')\n        return `${name} ${messages}`\n      }\n    )\n  }\n}\n","<ul class=\"error-messages\">\n  <li *ngFor=\"let errorMessage of errorMessages\">\n    {{ errorMessage }}\n  </li>\n</ul>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {BannerComponent} from 'src/app/shared/modules/banner/components/banner/banner.component'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [BannerComponent],\n  exports: [BannerComponent]\n})\nexport class BannerModule {}\n","import {Component} from '@angular/core'\n\n@Component({\n  selector: 'mc-banner',\n  templateUrl: './banner.component.html'\n})\nexport class BannerComponent {}\n","<div class=\"banner\">\n  <div class=\"container\">\n    <h1>SocialAidos</h1>\n    <p>Место для обмена знаниями</p>\n  </div>\n</div>\n","import {Component, Input} from '@angular/core'\n\n@Component({\n  selector: 'mc-error-message',\n  template: '<div>{{messageProps}}</div>'\n})\nexport class ErrorMessageComponent {\n  @Input('message') messageProps: string = 'Something went wrong'\n}\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\n\nimport {ErrorMessageComponent} from 'src/app/shared/modules/errorMessage/components/errorMessage/errorMessage.component'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [ErrorMessageComponent],\n  exports: [ErrorMessageComponent]\n})\nexport class ErrorMessageModule {}\n","import {\n  Component,\n  Input,\n  OnInit,\n  OnDestroy,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core'\nimport {Store, select} from '@ngrx/store'\nimport {Observable, Subscription} from 'rxjs'\nimport {Router, ActivatedRoute, Params} from '@angular/router'\nimport {stringify, parseUrl} from 'query-string'\n\nimport {getFeedAction} from 'src/app/shared/modules/feed/store/actions/getFeed.action'\nimport {GetFeedResponseInterface} from 'src/app/shared/modules/feed/types/getFeedResponse.interface'\nimport {\n  feedSelector,\n  errorSelector,\n  isLoadingSelector\n} from 'src/app/shared/modules/feed/store/selectors'\nimport {environment} from 'src/environments/environment'\n\n@Component({\n  selector: 'mc-feed',\n  templateUrl: './feed.component.html',\n  styleUrls: ['./feed.component.scss']\n})\nexport class FeedComponent implements OnInit, OnDestroy, OnChanges {\n  @Input('apiUrl') apiUrlProps: string\n\n  feed$: Observable<GetFeedResponseInterface | null>\n  error$: Observable<string | null>\n  isLoading$: Observable<boolean>\n  limit = environment.limit\n  baseUrl: string\n  queryParamsSubscription: Subscription\n  currentPage: number\n\n  constructor(\n    private store: Store,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    console.log('initialize feed', this.apiUrlProps)\n    this.initializeValues()\n    this.initializeListeners()\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    const isApiUrlChanged =\n      !changes.apiUrlProps.firstChange &&\n      changes.apiUrlProps.currentValue !== changes.apiUrlProps.previousValue\n    if (isApiUrlChanged) {\n      this.fetchFeed()\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.queryParamsSubscription.unsubscribe()\n  }\n\n  initializeListeners(): void {\n    this.queryParamsSubscription = this.route.queryParams.subscribe(\n      (params: Params) => {\n        this.currentPage = Number(params.page || '1')\n        console.log('fetchFeed')\n        this.fetchFeed()\n      }\n    )\n  }\n\n  initializeValues(): void {\n    this.feed$ = this.store.pipe(select(feedSelector))\n    this.error$ = this.store.pipe(select(errorSelector))\n    this.isLoading$ = this.store.pipe(select(isLoadingSelector))\n    this.baseUrl = this.router.url.split('?')[0]\n  }\n\n  fetchFeed(): void {\n    const offset = this.currentPage * this.limit - this.limit\n    const parsedUrl = parseUrl(this.apiUrlProps)\n    const stringifiedParams = stringify({\n      limit: this.limit,\n      offset,\n      ...parsedUrl.query\n    })\n    const apiUrlWithParams = `${parsedUrl.url}?${stringifiedParams}`\n    this.store.dispatch(getFeedAction({url: apiUrlWithParams}))\n  }\n}\n","<mc-loading *ngIf=\"isLoading$ | async\"></mc-loading>\n\n<mc-error-message *ngIf=\"error$ | async\"></mc-error-message>\n\n<div *ngIf=\"feed$ | async\">\n  <div\n    class=\"article-preview\"\n    *ngFor=\"let article of (feed$ | async)?.articles\"\n  >\n    <div class=\"article-meta\">\n      <a [routerLink]=\"['/profiles', article.author.username]\">\n        <img [src]=\"article.author.image\" />\n      </a>\n      <div class=\"info\">\n        <a [routerLink]=\"['/profiles', article.author.username]\" class=\"author\">\n          {{ article.author.username }}\n        </a>\n        <span class=\"date\">{{ article.createdAt }}</span>\n      </div>\n      <div class=\"pull-xs-right\">\n        <mc-add-to-favorites\n          [isFavorited]=\"article.favorited\"\n          [articleSlug]=\"article.slug\"\n          [favoritesCount]=\"article.favoritesCount\"\n        >\n        </mc-add-to-favorites>\n      </div>\n    </div>\n    <a [routerLink]=\"['/articles', article.slug]\" class=\"preview-link\">\n      <h1>{{ article.title }}</h1>\n      <p>{{ article.description }}</p>\n      <span>Узнать больше...</span>\n      <mc-tag-list [tags]=\"article.tagList\"></mc-tag-list>\n    </a>\n  </div>\n  <mc-pagination\n    [total]=\"(feed$ | async)?.articlesCount\"\n    [limit]=\"limit\"\n    [url]=\"baseUrl\"\n    [currentPage]=\"currentPage\"\n  ></mc-pagination>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {EffectsModule} from '@ngrx/effects'\nimport {RouterModule} from '@angular/router'\nimport {StoreModule} from '@ngrx/store'\n\nimport {FeedComponent} from 'src/app/shared/modules/feed/components/feed/feed.component'\nimport {FeedService} from 'src/app/shared/modules/feed/services/feed.service'\nimport {GetFeedEffect} from 'src/app/shared/modules/feed/store/effects/getFeed.effect'\nimport {reducers} from 'src/app/shared/modules/feed/store/reducers'\nimport {ErrorMessageModule} from 'src/app/shared/modules/errorMessage/errorMessage.module'\nimport {LoadingModule} from 'src/app/shared/modules/loading/loading.module'\nimport {PaginationModule} from 'src/app/shared/modules/pagination/pagination.module'\nimport {TagListModule} from '../tagList/tagList.module'\nimport {AddToFavoriteModule} from '../addToFavorites/addToFavorites.module'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    EffectsModule.forFeature([GetFeedEffect]),\n    StoreModule.forFeature('feed', reducers),\n    RouterModule,\n    ErrorMessageModule,\n    LoadingModule,\n    PaginationModule,\n    TagListModule,\n    AddToFavoriteModule\n  ],\n  declarations: [FeedComponent],\n  exports: [FeedComponent],\n  providers: [FeedService]\n})\nexport class FeedModule {}\n","import {Injectable} from '@angular/core'\nimport {Observable} from 'rxjs'\nimport {GetFeedResponseInterface} from 'src/app/shared/modules/feed/types/getFeedResponse.interface'\nimport {HttpClient} from '@angular/common/http'\nimport {environment} from 'src/environments/environment'\n\n@Injectable()\nexport class FeedService {\n  constructor(private http: HttpClient) {}\n\n  getFeed(url: string): Observable<GetFeedResponseInterface> {\n    const fullUrl = environment.apiUrl + url\n    return this.http.get<GetFeedResponseInterface>(fullUrl)\n  }\n}\n","export enum ActionTypes {\n  GET_FEED = '[Feed] Get feed',\n  GET_FEED_SUCCESS = '[Feed] Get feed success',\n  GET_FEED_FAILURE = '[Feed] Get feed failure'\n}\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from 'src/app/shared/modules/feed/store/actionTypes'\nimport {GetFeedResponseInterface} from 'src/app/shared/modules/feed/types/getFeedResponse.interface'\n\nexport const getFeedAction = createAction(\n  ActionTypes.GET_FEED,\n  props<{url: string}>()\n)\n\nexport const getFeedSuccessAction = createAction(\n  ActionTypes.GET_FEED_SUCCESS,\n  props<{feed: GetFeedResponseInterface}>()\n)\n\nexport const getFeedFailureAction = createAction(ActionTypes.GET_FEED_FAILURE)\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {FeedService} from 'src/app/shared/modules/feed/services/feed.service'\nimport {\n  getFeedAction,\n  getFeedSuccessAction,\n  getFeedFailureAction\n} from 'src/app/shared/modules/feed/store/actions/getFeed.action'\nimport {GetFeedResponseInterface} from 'src/app/shared/modules/feed/types/getFeedResponse.interface'\n\n@Injectable()\nexport class GetFeedEffect {\n  getFeed$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getFeedAction),\n      switchMap(({url}) => {\n        return this.feedService.getFeed(url).pipe(\n          map((feed: GetFeedResponseInterface) => {\n            return getFeedSuccessAction({feed})\n          }),\n\n          catchError(() => {\n            return of(getFeedFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(private actions$: Actions, private feedService: FeedService) {}\n}\n","import {createReducer, on, Action} from '@ngrx/store'\nimport {routerNavigationAction} from '@ngrx/router-store'\n\nimport {FeedStateInterface} from 'src/app/shared/modules/feed/types/feedState.interface'\nimport {\n  getFeedAction,\n  getFeedSuccessAction,\n  getFeedFailureAction\n} from 'src/app/shared/modules/feed/store/actions/getFeed.action'\n\nconst initialState: FeedStateInterface = {\n  data: null,\n  isLoading: false,\n  error: null\n}\n\nconst feedReducer = createReducer(\n  initialState,\n  on(\n    getFeedAction,\n    (state): FeedStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getFeedSuccessAction,\n    (state, action): FeedStateInterface => ({\n      ...state,\n      isLoading: false,\n      data: action.feed\n    })\n  ),\n  on(\n    getFeedFailureAction,\n    (state): FeedStateInterface => ({\n      ...state,\n      isLoading: false\n    })\n  ),\n  on(routerNavigationAction, (): FeedStateInterface => initialState)\n)\n\nexport function reducers(state: FeedStateInterface, action: Action) {\n  return feedReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\n\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {FeedStateInterface} from 'src/app/shared/modules/feed/types/feedState.interface'\n\nexport const feedFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  FeedStateInterface\n>('feed')\n\nexport const isLoadingSelector = createSelector(\n  feedFeatureSelector,\n  (feedState: FeedStateInterface) => feedState.isLoading\n)\n\nexport const errorSelector = createSelector(\n  feedFeatureSelector,\n  (feedState: FeedStateInterface) => feedState.error\n)\n\nexport const feedSelector = createSelector(\n  feedFeatureSelector,\n  (feedState: FeedStateInterface) => feedState.data\n)\n","import {Component, Input, OnInit} from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { Store, select } from '@ngrx/store'\nimport { isLoggedInSelector } from 'src/app/auth/store/selectors'\n\n@Component({\n  selector: 'mc-feed-toggler',\n  templateUrl: './feedToggler.component.html'\n})\nexport class FeedTogglerComponent implements OnInit {\n  @Input('tagName') tagNameProps: string\n\n  isLoggedIn$: Observable<boolean>\n\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.initializeValues()\n  }\n\n  initializeValues(): void {\n    this.isLoggedIn$ = this.store.pipe(select(isLoggedInSelector))\n  }\n}\n","<div class=\"feed-toggle\">\n  <ul class=\"nav nav-pills outline-active\">\n    <li class=\"nav-item\" *ngIf=\"isLoggedIn$ | async\">\n      <a [routerLink]=\"['/feed']\" class=\"nav-link\" routerLinkActive=\"active\"\n        >Личный канал</a\n      >\n    </li>\n\n    <li class=\"nav-item\">\n      <a\n        [routerLink]=\"['/']\"\n        class=\"nav-link\"\n        routerLinkActive=\"active\"\n        [routerLinkActiveOptions]=\"{exact: true}\"\n        >Глобальный канал</a\n      >\n    </li>\n\n    <li class=\"nav-item\" *ngIf=\"tagNameProps\">\n      <a\n        [routerLink]=\"['/tags', tagNameProps]\"\n        class=\"nav-link\"\n        routerLinkActive=\"active\"\n      >\n        <i class=\"ion-pound\"></i>\n        {{ tagNameProps }}\n      </a>\n    </li>\n  </ul>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\n\nimport {FeedTogglerComponent} from 'src/app/shared/modules/feedToggler/components/feedToggler/feedToggler.component'\nimport {RouterModule} from '@angular/router'\n\n@NgModule({\n  imports: [CommonModule, RouterModule],\n  declarations: [FeedTogglerComponent],\n  exports: [FeedTogglerComponent]\n})\nexport class FeedTogglerModule {}\n","import {Component} from '@angular/core'\n\n@Component({\n  selector: 'mc-loading',\n  template: '<div>Loading...</div>'\n})\nexport class LoadingComponent {}\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\n\nimport {LoadingComponent} from 'src/app/shared/modules/loading/components/loading/loading.component'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [LoadingComponent],\n  exports: [LoadingComponent]\n})\nexport class LoadingModule {}\n","import {Component, Input, OnInit} from '@angular/core'\nimport {UtilsService} from 'src/app/shared/services/utils.service'\n\n@Component({\n  selector: 'mc-pagination',\n  templateUrl: './pagination.component.html'\n})\nexport class PaginationComponent implements OnInit {\n  @Input('total') totalProps: number\n  @Input('limit') limitProps: number\n  @Input('currentPage') currentPageProps: number\n  @Input('url') urlProps: string\n\n  pagesCount: number\n  pages: number[]\n\n  constructor(private utilsService: UtilsService) {}\n\n  ngOnInit(): void {\n    this.pagesCount = Math.ceil(this.totalProps / this.limitProps)\n    this.pages = this.utilsService.range(1, this.pagesCount)\n  }\n}\n","<ul class=\"pagination\">\n  <li\n    *ngFor=\"let page of pages\"\n    class=\"page-item\"\n    [ngClass]=\"{active: currentPageProps === page}\"\n  >\n    <a [routerLink]=\"[urlProps]\" [queryParams]=\"{page: page}\" class=\"page-link\">\n      {{ page }}\n    </a>\n  </li>\n</ul>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\n\nimport {PaginationComponent} from 'src/app/shared/modules/pagination/components/pagination/pagination.component'\nimport {UtilsService} from 'src/app/shared/services/utils.service'\n\n@NgModule({\n  imports: [CommonModule, RouterModule],\n  declarations: [PaginationComponent],\n  exports: [PaginationComponent],\n  providers: [UtilsService]\n})\nexport class PaginationModule {}\n","import {Component, OnInit} from '@angular/core'\nimport {Store, select} from '@ngrx/store'\n\nimport {getPopularTagsAction} from 'src/app/shared/modules/popularTags/store/actions/getPopularTags.action'\nimport {Observable} from 'rxjs'\nimport {PopularTagType} from 'src/app/shared/types/popularTag.type'\nimport {\n  popularTagsSelector,\n  isLoadingSelector,\n  errorSelector\n} from 'src/app/shared/modules/popularTags/store/selectors'\n\n@Component({\n  selector: 'mc-popular-tags',\n  templateUrl: './popularTags.component.html'\n})\nexport class PopularTagsComponent implements OnInit {\n  popularTags$: Observable<PopularTagType[] | null>\n  isLoading$: Observable<boolean>\n  error$: Observable<string | null>\n\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.initializeValues()\n    this.fetchData()\n  }\n\n  initializeValues(): void {\n    this.popularTags$ = this.store.pipe(select(popularTagsSelector))\n    this.isLoading$ = this.store.pipe(select(isLoadingSelector))\n    this.error$ = this.store.pipe(select(errorSelector))\n  }\n\n  fetchData(): void {\n    this.store.dispatch(getPopularTagsAction())\n  }\n}\n","<mc-loading *ngIf=\"isLoading$ | async\"></mc-loading>\n\n<mc-error-message\n  *ngIf=\"error$ | async\"\n  [message]=\"error$ | async\"\n></mc-error-message>\n\n<div class=\"sidebar\" *ngIf=\"popularTags$ | async\">\n  <p>Популярный теги</p>\n  <div class=\"tag-list\">\n    <a\n      *ngFor=\"let popularTag of popularTags$ | async\"\n      [routerLink]=\"['/tags', popularTag]\"\n      class=\"tag-default tag-pill\"\n    >\n      {{ popularTag }}\n    </a>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {StoreModule} from '@ngrx/store'\nimport {EffectsModule} from '@ngrx/effects'\nimport {RouterModule} from '@angular/router'\n\nimport {reducers} from 'src/app/shared/modules/popularTags/store/reducers'\nimport {GetPopularTagsEffect} from 'src/app/shared/modules/popularTags/store/effects/getPopularTags.effect'\nimport {PopularTagsComponent} from 'src/app/shared/modules/popularTags/components/popularTags/popularTags.component'\nimport {LoadingModule} from 'src/app/shared/modules/loading/loading.module'\nimport {ErrorMessageModule} from 'src/app/shared/modules/errorMessage/errorMessage.module'\nimport {PopularTagsService} from 'src/app/shared/modules/popularTags/services/popularTags.service'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    StoreModule.forFeature('popularTags', reducers),\n    EffectsModule.forFeature([GetPopularTagsEffect]),\n    RouterModule,\n    LoadingModule,\n    ErrorMessageModule\n  ],\n  declarations: [PopularTagsComponent],\n  exports: [PopularTagsComponent],\n  providers: [PopularTagsService]\n})\nexport class PopularTagsModule {}\n","import {Injectable} from '@angular/core'\nimport {HttpClient} from '@angular/common/http'\nimport {Observable} from 'rxjs'\nimport {map} from 'rxjs/operators'\n\nimport {PopularTagType} from 'src/app/shared/types/popularTag.type'\nimport {environment} from 'src/environments/environment'\nimport {GetPopularTagsResponseInterface} from 'src/app/shared/modules/popularTags/types/getPopularTagsResponse.interface'\n\n@Injectable()\nexport class PopularTagsService {\n  constructor(private http: HttpClient) {}\n\n  getPopularTags(): Observable<PopularTagType[]> {\n    const url = environment.apiUrl + '/tags'\n    return this.http.get(url).pipe(\n      map((response: GetPopularTagsResponseInterface) => {\n        return response.tags\n      })\n    )\n  }\n}\n","export enum ActionTypes {\n  GET_POPULAR_TAGS = '[Popular Tags] Get popular tags',\n  GET_POPULAR_TAGS_SUCCESS = '[Popular Tags] Get popular tags success',\n  GET_POPULAR_TAGS_FAILURE = '[Popular Tags] Get popular tags failure'\n}\n","import {createAction, props} from '@ngrx/store'\n\nimport {ActionTypes} from 'src/app/shared/modules/popularTags/store/actionTypes'\nimport {PopularTagType} from 'src/app/shared/types/popularTag.type'\n\nexport const getPopularTagsAction = createAction(ActionTypes.GET_POPULAR_TAGS)\n\nexport const getPopularTagsSuccessAction = createAction(\n  ActionTypes.GET_POPULAR_TAGS_SUCCESS,\n  props<{popularTags: PopularTagType[]}>()\n)\n\nexport const getPopularTagsFailure = createAction(\n  ActionTypes.GET_POPULAR_TAGS_FAILURE\n)\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {PopularTagsService} from 'src/app/shared/modules/popularTags/services/popularTags.service'\nimport {\n  getPopularTagsAction,\n  getPopularTagsSuccessAction,\n  getPopularTagsFailure\n} from 'src/app/shared/modules/popularTags/store/actions/getPopularTags.action'\nimport {PopularTagType} from 'src/app/shared/types/popularTag.type'\n\n@Injectable()\nexport class GetPopularTagsEffect {\n  getPopularTags$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getPopularTagsAction),\n      switchMap(() => {\n        return this.popularTagsService.getPopularTags().pipe(\n          map((popularTags: PopularTagType[]) => {\n            return getPopularTagsSuccessAction({popularTags})\n          }),\n\n          catchError(() => {\n            return of(getPopularTagsFailure())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private popularTagsService: PopularTagsService\n  ) {}\n}\n","import {PopularTagsStateInterface} from '../types/popularTagsState.interface'\nimport {createReducer, on, Action} from '@ngrx/store'\nimport {\n  getPopularTagsAction,\n  getPopularTagsSuccessAction,\n  getPopularTagsFailure\n} from './actions/getPopularTags.action'\n\nconst initialState: PopularTagsStateInterface = {\n  data: null,\n  isLoading: false,\n  error: null\n}\n\nconst popularTagsReducer = createReducer(\n  initialState,\n  on(\n    getPopularTagsAction,\n    (state): PopularTagsStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getPopularTagsSuccessAction,\n    (state, action): PopularTagsStateInterface => ({\n      ...state,\n      isLoading: false,\n      data: action.popularTags\n    })\n  ),\n  on(\n    getPopularTagsFailure,\n    (state): PopularTagsStateInterface => ({\n      ...state,\n      isLoading: false\n    })\n  )\n)\n\nexport function reducers(state: PopularTagsStateInterface, action: Action) {\n  return popularTagsReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {PopularTagsStateInterface} from '../types/popularTagsState.interface'\n\nexport const popularTagsFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  PopularTagsStateInterface\n>('popularTags')\n\nexport const popularTagsSelector = createSelector(\n  popularTagsFeatureSelector,\n  (popularTagsState: PopularTagsStateInterface) => popularTagsState.data\n)\n\nexport const isLoadingSelector = createSelector(\n  popularTagsFeatureSelector,\n  (popularTagsState: PopularTagsStateInterface) => popularTagsState.isLoading\n)\n\nexport const errorSelector = createSelector(\n  popularTagsFeatureSelector,\n  (popularTagsState: PopularTagsStateInterface) => popularTagsState.error\n)\n","import {Component, Input} from '@angular/core'\n\nimport {PopularTagType} from 'src/app/shared/types/popularTag.type'\n\n@Component({\n  selector: 'mc-tag-list',\n  templateUrl: './tagList.component.html'\n})\nexport class TagListComponent {\n  @Input('tags') tagsProps: PopularTagType[]\n}\n","<ul class=\"tag-list\">\n  <li *ngFor=\"let tag of tagsProps\" class=\"tag-default tag-pill tag-outline\">\n    {{ tag }}\n  </li>\n</ul>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {TagListComponent} from './components/tagList/tagList.component'\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [TagListComponent],\n  exports: [TagListComponent]\n})\nexport class TagListModule {}\n","import {Component, OnInit} from '@angular/core'\nimport {Observable} from 'rxjs'\nimport {Store, select} from '@ngrx/store'\n\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\nimport {\n  isLoggedInSelector,\n  isAnonymousSelector,\n  currentUserSelector\n} from 'src/app/auth/store/selectors'\n\n@Component({\n  selector: 'mc-topbar',\n  templateUrl: './topBar.component.html',\n  styleUrls: ['./topBar.component.scss']\n})\nexport class TopBarComponent implements OnInit {\n  isLoggedIn$: Observable<boolean>\n  isAnonymous$: Observable<boolean>\n  currentUser$: Observable<CurrentUserInterface | null>\n\n  constructor(private store: Store) {}\n\n  ngOnInit(): void {\n    this.isLoggedIn$ = this.store.pipe(select(isLoggedInSelector))\n    this.isAnonymous$ = this.store.pipe(select(isAnonymousSelector))\n    this.currentUser$ = this.store.pipe(select(currentUserSelector))\n  }\n}\n","<nav class=\"navbar navbar-light\">\n  <div class=\"container\">\n    <a class=\"navbar-brand\" [routerLink]=\"['/']\">\n      SocialAidos\n    </a>\n    <ul class=\"nav navbar-nav pull-xs-right\">\n      <li class=\"nav-item\">\n        <a [routerLink]=\"['/']\" class=\"nav-link\">\n          Главная\n        </a>\n      </li>\n      <ng-container *ngIf=\"isLoggedIn$ | async\">\n        <li class=\"nav-item\">\n          <a [routerLink]=\"['/articles/new']\" class=\"nav-link\">\n            <i class=\"ion-compose\"></i>\n            &nbsp; Новый пост\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a [routerLink]=\"['/settings']\" class=\"nav-link\">\n            <i class=\"ion-gear-a\"></i>\n            &nbsp; Настройки\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a\n            [routerLink]=\"['/profiles', (currentUser$ | async).username]\"\n            class=\"nav-link\"\n          >\n            <img class=\"user-pic\" [src]=\"(currentUser$ | async).image\" />\n            &nbsp; {{ (currentUser$ | async).username }}\n          </a>\n        </li>\n      </ng-container>\n      <ng-container *ngIf=\"isAnonymous$ | async\">\n        <li class=\"nav-item\">\n          <a [routerLink]=\"['/login']\" class=\"nav-link\">\n            Войти\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a [routerLink]=\"['/register']\" class=\"nav-link\">\n            Зарегистрироваться \n          </a>\n        </li>\n      </ng-container>\n    </ul>\n  </div>\n</nav>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\n\nimport {TopBarComponent} from 'src/app/shared/modules/topBar/components/topBar/topBar.component'\n\n@NgModule({\n  imports: [CommonModule, RouterModule],\n  declarations: [TopBarComponent],\n  exports: [TopBarComponent]\n})\nexport class TopBarModule {}\n","import {Injectable} from '@angular/core'\nimport {Observable} from 'rxjs'\nimport {HttpClient} from '@angular/common/http'\nimport {map} from 'rxjs/operators'\n\nimport {environment} from 'src/environments/environment'\nimport {ArticleInterface} from '../types/article.interface'\nimport {GetArticleResponseInterface} from 'src/app/shared/types/getArticleResponse.interface'\n\n@Injectable()\nexport class ArticleService {\n  constructor(private http: HttpClient) {}\n\n  getArticle(slug: string): Observable<ArticleInterface> {\n    const fullUrl = `${environment.apiUrl}/articles/${slug}`\n    return this.http.get<GetArticleResponseInterface>(fullUrl).pipe(\n      map((response: GetArticleResponseInterface) => {\n        return response.article\n      })\n    )\n  }\n}\n","import {Injectable} from '@angular/core'\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent\n} from '@angular/common/http'\nimport {Observable} from 'rxjs'\n\nimport {PersistanceService} from 'src/app//shared/services/persistance.service'\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n  constructor(private persistanceService: PersistanceService) {}\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    const token = this.persistanceService.get('accessToken')\n    request = request.clone({\n      setHeaders: {\n        Authorization: token ? `Token ${token}` : ''\n      }\n    })\n\n    return next.handle(request)\n  }\n}\n","import {Injectable} from '@angular/core'\n\n@Injectable()\nexport class PersistanceService {\n  set(key: string, data: any): void {\n    try {\n      localStorage.setItem(key, JSON.stringify(data))\n    } catch (e) {\n      console.error('Error saving to localStorage', e)\n    }\n  }\n\n  get(key: string): any {\n    try {\n      return JSON.parse(localStorage.getItem(key))\n    } catch (e) {\n      console.error('Error getting data from localStorage', e)\n      return null\n    }\n  }\n}\n","import {Injectable} from '@angular/core'\n\n@Injectable()\nexport class UtilsService {\n  range(start: number, end: number): number[] {\n    return [...Array(end).keys()].map(el => el + start)\n  }\n}\n","import {Component, OnInit} from '@angular/core'\nimport {ActivatedRoute} from '@angular/router'\n\n@Component({\n  selector: 'mc-tag-feed',\n  templateUrl: './tagFeed.component.html',\n  styleUrls: ['./tagFeed.component.scss']\n})\nexport class TagFeedComponent implements OnInit {\n  tagName: string\n  apiUrl: string\n\n  constructor(private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.tagName = this.route.snapshot.paramMap.get('slug')\n    this.apiUrl = `/articles?tag=${this.tagName}`\n  }\n}\n","<div class=\"home-page\">\n  <mc-banner></mc-banner>\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <mc-feed-toggler [tagName]=\"tagName\"></mc-feed-toggler>\n        <mc-feed [apiUrl]=\"apiUrl\"></mc-feed>\n      </div>\n      <div class=\"col-md-3\">\n        <mc-popular-tags></mc-popular-tags>\n      </div>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\n\nimport {TagFeedComponent} from 'src/app/tagFeed/components/tagFeed/tagFeed.component'\nimport {FeedModule} from 'src/app/shared/modules/feed/feed.module'\nimport {BannerModule} from 'src/app/shared/modules/banner/banner.module'\nimport {PopularTagsModule} from '../shared/modules/popularTags/popularTags.module'\nimport {FeedTogglerModule} from 'src/app/shared/modules/feedToggler/feedToggler.module'\n\nconst routes = [\n  {\n    path: 'tags/:slug',\n    component: TagFeedComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FeedModule,\n    BannerModule,\n    PopularTagsModule,\n    FeedTogglerModule\n  ],\n  declarations: [TagFeedComponent]\n})\nexport class TagFeedModule {}\n","import {Component, OnInit} from '@angular/core'\nimport {UserProfileInterface} from '../../types/userProfile.interface'\nimport {Observable, Subscription, combineLatest} from 'rxjs'\nimport {Store, select} from '@ngrx/store'\nimport {getUserProfileAction} from '../../store/actions/getUserProfile.action'\nimport {ActivatedRoute, Router, Params} from '@angular/router'\nimport {\n  isLoadingSelector,\n  errorSelector,\n  userProfileSelector\n} from '../../store/selectors'\nimport {currentUserSelector} from 'src/app/auth/store/selectors'\nimport {map, filter} from 'rxjs/operators'\nimport {CurrentUserInterface} from 'src/app/shared/types/currentUser.interface'\n\n@Component({\n  selector: 'mc-user-profile',\n  templateUrl: './userProfile.component.html',\n  styleUrls: ['./userProfile.component.scss']\n})\nexport class UserProfileComponent implements OnInit {\n  userProfile: UserProfileInterface\n  isLoading$: Observable<boolean>\n  error$: Observable<string | null>\n  userProfileSubscription: Subscription\n  slug: string\n  isCurrentUserProfile$: Observable<boolean>\n\n  constructor(\n    private store: Store,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.initializeValues()\n    this.initializeListeners()\n  }\n  initializeValues(): void {\n    this.slug = this.route.snapshot.paramMap.get('slug')\n    this.isLoading$ = this.store.pipe(select(isLoadingSelector))\n    this.error$ = this.store.pipe(select(errorSelector))\n    this.isCurrentUserProfile$ = combineLatest(\n      this.store.pipe(select(currentUserSelector), filter(Boolean)),\n      this.store.pipe(select(userProfileSelector), filter(Boolean))\n    ).pipe(\n      map(\n        ([currentUser, userProfile]: [\n          CurrentUserInterface,\n          UserProfileInterface\n        ]) => {\n          return currentUser.username === userProfile.username\n        }\n      )\n    )\n  }\n\n  getApiUrl(): string {\n    const isFavorites = this.router.url.includes('favorites')\n    return isFavorites\n      ? `/articles?favorited=${this.slug}`\n      : `/articles?author=${this.slug}`\n  }\n\n  initializeListeners(): void {\n    this.userProfileSubscription = this.store\n      .pipe(select(userProfileSelector))\n      .subscribe((userProfile: UserProfileInterface) => {\n        this.userProfile = userProfile\n      })\n\n    this.route.params.subscribe((params: Params) => {\n      this.slug = params.slug\n      this.fetchUserProfile()\n    })\n  }\n\n  fetchUserProfile(): void {\n    this.store.dispatch(getUserProfileAction({slug: this.slug}))\n  }\n}\n","<div class=\"profile-page\" *ngIf=\"userProfile\">\n  <div class=\"user-info\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-xs-12 col-md-10 offset-md-1\">\n          <img class=\"user-img\" [src]=\"userProfile.image\" />\n          <h4>{{ userProfile.username }}</h4>\n          <p>{{ userProfile.bio }}</p>\n          <div>\n            \n            <a\n              *ngIf=\"isCurrentUserProfile$ | async\"\n              class=\"btn btn-sm btn-outline-secondary action-btn\"\n              [routerLink]=\"['/settings']\"\n              >Изменить настройки профиля</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-xs-12 col-md-10 offset-md-1\">\n        <div class=\"articles-toggle\">\n          <ul class=\"nav nav-pills outline-active\">\n            <li class=\"nav-item\">\n              <!-- We need this hack because angular doesnt understand route change -->\n              <!-- https://github.com/angular/angular/issues/18469 -->\n              <a\n                [routerLink]=\"['/profiles', userProfile.username]\"\n                class=\"nav-link\"\n                routerLinkActive=\"active\"\n                [routerLinkActiveOptions]=\"{\n                  exact: true,\n                  __change_detection_hack__: userProfile.username\n                }\"\n              >\n                Мои посты\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                [routerLink]=\"['/profiles', userProfile.username, 'favorites']\"\n                class=\"nav-link\"\n                routerLinkActive=\"active\"\n                [routerLinkActiveOptions]=\"{\n                  exact: true,\n                  __change_detection_hack__: userProfile.username\n                }\"\n              >\n                Избранные посты\n              </a>\n            </li>\n          </ul>\n        </div>\n        <mc-feed [apiUrl]=\"getApiUrl()\"></mc-feed>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Injectable} from '@angular/core'\nimport {Observable} from 'rxjs'\nimport {UserProfileInterface} from '../types/userProfile.interface'\nimport {HttpClient} from '@angular/common/http'\nimport {environment} from 'src/environments/environment'\nimport {map} from 'rxjs/operators'\nimport {GetUserProfileResponseInterface} from '../types/getUserProfileResponse.interface'\n\n@Injectable()\nexport class UserProfileService {\n  constructor(private http: HttpClient) {}\n\n  getUserProfile(slug: string): Observable<UserProfileInterface> {\n    const url = `${environment.apiUrl}/profiles/${slug}`\n\n    return this.http\n      .get(url)\n      .pipe(\n        map((response: GetUserProfileResponseInterface) => response.profile)\n      )\n  }\n}\n","export enum ActionTypes {\n  GET_USER_PROFILE = '[User Profile] Get user profile',\n  GET_USER_PROFILE_SUCCESS = '[User Profile] Get user profile success',\n  GET_USER_PROFILE_FAILURE = '[User Profile] Get user profile failure'\n}\n","import {createAction, props} from '@ngrx/store'\nimport {ActionTypes} from '../actionTypes'\nimport {UserProfileInterface} from '../../types/userProfile.interface'\n\nexport const getUserProfileAction = createAction(\n  ActionTypes.GET_USER_PROFILE,\n  props<{slug: string}>()\n)\n\nexport const getUserProfileSuccessAction = createAction(\n  ActionTypes.GET_USER_PROFILE_SUCCESS,\n  props<{userProfile: UserProfileInterface}>()\n)\n\nexport const getUserProfileFailureAction = createAction(\n  ActionTypes.GET_USER_PROFILE_FAILURE\n)\n","import {Injectable} from '@angular/core'\nimport {createEffect, Actions, ofType} from '@ngrx/effects'\nimport {map, catchError, switchMap} from 'rxjs/operators'\nimport {of} from 'rxjs'\n\nimport {UserProfileService} from '../../services/userProfile.service'\nimport {\n  getUserProfileAction,\n  getUserProfileSuccessAction,\n  getUserProfileFailureAction\n} from '../actions/getUserProfile.action'\nimport {UserProfileInterface} from '../../types/userProfile.interface'\n\n@Injectable()\nexport class GetUserProfileEffect {\n  getUserProfile$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(getUserProfileAction),\n      switchMap(({slug}) => {\n        return this.userProfileService.getUserProfile(slug).pipe(\n          map((userProfile: UserProfileInterface) => {\n            return getUserProfileSuccessAction({userProfile})\n          }),\n\n          catchError(() => {\n            return of(getUserProfileFailureAction())\n          })\n        )\n      })\n    )\n  )\n\n  constructor(\n    private actions$: Actions,\n    private userProfileService: UserProfileService\n  ) {}\n}\n","import {UserProfileStateInterface} from '../types/userProfileState.interface'\nimport {createReducer, on, Action} from '@ngrx/store'\n\nimport {routerNavigationAction} from '@ngrx/router-store'\nimport {\n  getUserProfileAction,\n  getUserProfileSuccessAction,\n  getUserProfileFailureAction\n} from './actions/getUserProfile.action'\n\nconst initialState: UserProfileStateInterface = {\n  data: null,\n  isLoading: false,\n  error: null\n}\n\nconst userProfileReducer = createReducer(\n  initialState,\n  on(\n    getUserProfileAction,\n    (state): UserProfileStateInterface => ({\n      ...state,\n      isLoading: true\n    })\n  ),\n  on(\n    getUserProfileSuccessAction,\n    (state, action): UserProfileStateInterface => ({\n      ...state,\n      isLoading: false,\n      data: action.userProfile\n    })\n  ),\n  on(\n    getUserProfileFailureAction,\n    (state): UserProfileStateInterface => ({\n      ...state,\n      isLoading: false\n    })\n  )\n)\n\nexport function reducers(state: UserProfileStateInterface, action: Action) {\n  return userProfileReducer(state, action)\n}\n","import {createFeatureSelector, createSelector} from '@ngrx/store'\nimport {AppStateInterface} from 'src/app/shared/types/appState.interface'\nimport {UserProfileStateInterface} from 'src/app/userProfile/types/userProfileState.interface'\n\nexport const userProfileFeatureSelector = createFeatureSelector<\n  AppStateInterface,\n  UserProfileStateInterface\n>('userProfile')\n\nexport const userProfileSelector = createSelector(\n  userProfileFeatureSelector,\n  (userProfileState: UserProfileStateInterface) => userProfileState.data\n)\n\nexport const isLoadingSelector = createSelector(\n  userProfileFeatureSelector,\n  (userProfileState: UserProfileStateInterface) => userProfileState.isLoading\n)\n\nexport const errorSelector = createSelector(\n  userProfileFeatureSelector,\n  (userProfileState: UserProfileStateInterface) => userProfileState.error\n)\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\nimport {UserProfileComponent} from 'src/app/userProfile/components/userProfile/userProfile.component'\nimport {UserProfileService} from './services/userProfile.service'\nimport {EffectsModule} from '@ngrx/effects'\nimport {GetUserProfileEffect} from 'src/app/userProfile/store/effects/getUserProfile.effect'\nimport {StoreModule} from '@ngrx/store'\nimport {reducers} from 'src/app/userProfile/store/reducers'\nimport {FeedModule} from '../shared/modules/feed/feed.module'\n\nconst routes = [\n  {\n    path: 'profiles/:slug',\n    component: UserProfileComponent\n  },\n  {\n    path: 'profiles/:slug/favorites',\n    component: UserProfileComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    EffectsModule.forFeature([GetUserProfileEffect]),\n    StoreModule.forFeature('userProfile', reducers),\n    FeedModule\n  ],\n  declarations: [UserProfileComponent],\n  providers: [UserProfileService]\n})\nexport class UserProfileModule {}\n","import {Component} from '@angular/core'\n\n@Component({\n  selector: 'mc-your-feed',\n  templateUrl: './yourFeed.component.html',\n  styleUrls: ['./yourFeed.component.scss']\n})\nexport class YourFeedComponent {\n  apiUrl = '/articles/feed'\n}\n","<div class=\"home-page\">\n  <mc-banner></mc-banner>\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <mc-feed-toggler></mc-feed-toggler>\n        <mc-feed [apiUrl]=\"apiUrl\"></mc-feed>\n      </div>\n      <div class=\"col-md-3\">\n        <mc-popular-tags></mc-popular-tags>\n      </div>\n    </div>\n  </div>\n</div>\n","import {NgModule} from '@angular/core'\nimport {CommonModule} from '@angular/common'\nimport {RouterModule} from '@angular/router'\n\nimport {YourFeedComponent} from 'src/app/yourFeed/components/yourFeed/yourFeed.component'\nimport {FeedModule} from 'src/app/shared/modules/feed/feed.module'\nimport {BannerModule} from 'src/app/shared/modules/banner/banner.module'\nimport {PopularTagsModule} from '../shared/modules/popularTags/popularTags.module'\nimport {FeedTogglerModule} from 'src/app/shared/modules/feedToggler/feedToggler.module'\n\nconst routes = [\n  {\n    path: 'feed',\n    component: YourFeedComponent\n  }\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FeedModule,\n    BannerModule,\n    PopularTagsModule,\n    FeedTogglerModule\n  ],\n  declarations: [YourFeedComponent]\n})\nexport class YourFeedModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'https://conduit.productionready.io/api',\n  limit: 10\n}\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}